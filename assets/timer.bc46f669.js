import{j as P,O as i,ad as f,e as S,o as c,c as o,g as r,u as _,Q as n,n as g,B as x,h as j,i as M,_ as O,I as z,F as p,t as h,J as $,v as J,b as V,d as K,s as Q,p as R}from"./all.d3d1fca1.js";async function U(){return await(await fetch(P+"timings.json",{})).json()}const q=await U(),A=q,C=i(!1),T=i("Map_02"),k=i(),l=i(0),G=i([0,3,5,7,10]),w=i(5),u=i([]),d=i([]),y=i(null),E=e=>A.mapTimings[e],D=e=>{e=e-l.value,e<0&&(e=e*-1);let a=0;e>=60&&(a=Math.floor(e/60),e=e-a*60);const s=[];return a>0&&s.push(a+"m"),s.push(e+"s"),s.join(" ")};f(()=>Math.floor(l.value/m.value));const F=f(()=>{const e=E(T.value).phases;let a=0;const s=[];return e.forEach(t=>{s.push({...t,startTime:a}),a+=t.duration}),s.sort((t,v)=>t.startTime-v.startTime),console.log(s),s}),L=f(()=>E(T.value).warnings),H=f(()=>{const e=[];return F.value.forEach(a=>{e.push({name:a.name,skipToTime:a.startTime})}),L.value.forEach(a=>{e.push({name:a.name,skipToTime:a.time})}),e.sort((a,s)=>a.skipToTime-s.skipToTime),e}),m=f(()=>E(T.value).totalTime),W=f(()=>{const e=[];for(const[a,s]of Object.entries(A.mapTimings))e.push({key:a,name:s.name});return e}),b=e=>(e-l.value)/m.value,X=function(){l.value+=1,u.value.forEach(e=>{e.startTime<=l.value&&(e.startTime+=m.value,y.value=e),e.left=b(e.startTime)}),d.value.forEach(e=>{e.startTime<=l.value&&(e.startTime+=m.value),e.left=b(e.startTime)}),u.value.sort((e,a)=>e.startTime-a.startTime),d.value.sort((e,a)=>e.startTime-a.startTime)},Y=function(e){T.value=e,C.value=!1,l.value=0},Z=function(e){w.value=e},ee=function(e){k.value!==void 0&&clearInterval(k.value),l.value=e+w.value,u.value=[];let a=0;F.value.forEach(s=>{let t=0+a;l.value>=t&&(t+=m.value),u.value.push({name:s.name,duration:s.duration,startTime:t,left:b(t),gameplay:s.gameplay}),a+=s.duration}),d.value=[],L.value.forEach(s=>{let t=s.time;console.log(t),l.value>=t&&(t+=m.value),d.value.push({name:s.name,startTime:t,left:b(t)})}),u.value.sort((s,t)=>s.startTime-t.startTime),d.value.sort((s,t)=>s.startTime-t.startTime),y.value=u.value[u.value.length-1],k.value=setInterval(X,1e3),C.value=!0},te=e=>(j("data-v-fc57bcb7"),e=e(),M(),e),ae=te(()=>r("div",{class:"cycle-tracker__timer-bubble__marker"},[r("div",null,"\xA0")],-1)),se={class:"cycle-tracker__timer-bubble__event"},ne={class:"cycle-tracker__timer-bubble__time"},ce=S({__name:"TimerBubble",props:{phase:{},secondary:{type:Boolean,default:!1}},setup(e){return(a,s)=>(c(),o("li",{class:g(["cycle-tracker__timer-bubble",{secondary:a.secondary}]),key:a.phase.name,style:x({left:`${(a.phase.left*100).toFixed(2)}%`})},[ae,r("div",se,_(a.phase.name),1),r("div",ne,_(n(D)(a.phase.startTime)),1)],6))}});const B=O(ce,[["__scopeId","data-v-fc57bcb7"]]),I=e=>(j("data-v-d579b6f8"),e=e(),M(),e),oe={class:"cycle-tracker__navbars"},re=I(()=>r("div",{class:"cycle-tracker__note"},"Current Map",-1)),le={class:"cycle-tracker__buttons"},ie=["onClick"],ue=I(()=>r("div",{class:"cycle-tracker__note"},"Time Offset",-1)),_e={class:"cycle-tracker__buttons"},me=["onClick"],ve=I(()=>r("div",{class:"cycle-tracker__note"},"Event In-game",-1)),pe={class:"cycle-tracker__buttons"},de=["onClick"],fe={class:"cycle-tracker__timer"},he={key:0,class:"cycle-tracker__timeline"},ye={class:"cycle-tracker__timer-list"},Te={key:0,class:"cycle-tracker__current-message"},be={key:1,class:"cycle-tracker__start-message"},ke=S({__name:"CycleTimer",setup(e){return window.history.pushState({},document.title,location.pathname.replace(".html","")),z(),(a,s)=>(c(),o(p,null,[r("div",oe,[re,r("div",le,[(c(!0),o(p,null,h(n(W),(t,v)=>(c(),o("button",{key:v,class:g({"btn-active":t.key===n(T)}),type:"button",onClick:N=>n(Y)(t.key)},_(t.name),11,ie))),128))]),ue,r("div",_e,[(c(!0),o(p,null,h(n(G),(t,v)=>(c(),o("button",{key:v,class:g({"btn-active":t===n(w)}),type:"button",onClick:N=>n(Z)(t)}," +"+_(t)+" seconds ",11,me))),128))]),ve,r("div",pe,[(c(!0),o(p,null,h(n(H),t=>(c(),o("button",{key:`start_${t.name}`,type:"button",onClick:v=>n(ee)(t.skipToTime)},_(t.name),9,de))),128))])]),r("div",fe,[n(C)?(c(),o("div",he,[r("ul",ye,[(c(!0),o(p,null,h(n(u),t=>(c(),$(B,{key:t.name,phase:t},null,8,["phase"]))),128)),(c(!0),o(p,null,h(n(d),t=>(c(),$(B,{key:t.name,phase:t,secondary:!0},null,8,["phase"]))),128))]),n(y)?(c(),o("div",Te,_(n(y).name)+" since "+_(n(D)(n(y).startTime-n(m))),1)):J("",!0)])):(c(),o("div",be," Click on a event button when a event occures ingame and the timer will start. "))])],64))}});const ge=O(ke,[["__scopeId","data-v-d579b6f8"]]),Ce=V(ge).component("font-awesome-icon",K.FontAwesome).use(Q).use(R);Ce.mount("main");
