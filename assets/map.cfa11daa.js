import{e as Se,f as re,_ as xe,o as Y,c as ee,g as I,n as Oe,h as ct,i as ft,j as Nl,k as se,l as be,r as ge,m as Ve,w as fe,q as ie,F as Ae,t as Ct,u as $e,v as kt,x as At,y as Ce,z as wt,A as ut,B as El,C as Dl,D as Gl,T as Fl,E as Al,G as Be,H as oa,I as Bl,J as Qn,b as Ul,d as Rl,s as zl,p as Zl}from"./all.d3d1fca1.js";import{l as Mt,s as _r,a as qe,b as br,c as Hl,d as sa,e as ea,k as jl,D as ql,L as le,f as yr,g as Vl,m as gt,h as mt,i as st}from"./mapConstants.0cbece38.js";import{r as Wl}from"./utils.6fb22ff4.js";const Xl=Se({data(){return{selectedMap:re}}});const ht=i=>(ct("data-v-25bca65f"),i=i(),ft(),i),Yl={class:"map-selector"},Kl={class:"map-buttons"},Jl=ht(()=>I("p",null,"Map 1",-1)),Ql=ht(()=>I("p",{class:"map-name"},"Bright Sands",-1)),eu=[Jl,Ql],tu=ht(()=>I("p",null,"Map 2",-1)),ru=ht(()=>I("p",{class:"map-name"},"Crescent Falls",-1)),nu=[tu,ru],au=ht(()=>I("p",null,"Map 3",-1)),iu=ht(()=>I("p",{class:"map-name"},"Tharis Island",-1)),ou=[au,iu];function su(i,h,b,C,x,t){return Y(),ee("div",Yl,[I("div",Kl,[I("div",{class:Oe(["button-content",i.selectedMap.get()==1?"selected-map":"not-selected-map"]),onClick:h[0]||(h[0]=a=>i.selectedMap.set(1)),role:"button"},eu,2),I("div",{class:Oe(["button-content",i.selectedMap.get()==2?"selected-map":"not-selected-map"]),onClick:h[1]||(h[1]=a=>i.selectedMap.set(2)),role:"button"},nu,2),I("div",{class:Oe(["button-content",i.selectedMap.get()==3?"selected-map":"not-selected-map"]),onClick:h[2]||(h[2]=a=>i.selectedMap.set(3)),role:"button"},ou,2)])])}const lu=xe(Xl,[["render",su],["__scopeId","data-v-25bca65f"]]);let vr=null;async function Ne(){if(vr)return vr;const i=document.getElementById("loading");i&&(i.style.display="block");const b=await(await fetch(Nl+"mapData.json",{})).json();return i&&(i.style.display="none"),vr=b,b}async function uu(){return await(await fetch("./tiers.json")).json()}const cu=Se({data(){return{mapData:null,selectedLocations:se,selectedMap:re,selectedCreatures:be,containers:[],specialLocations:[],orderedContainers:[],orderedSpecialLocations:[],notFoundContainers:[],notFoundSpecialLocations:[],creatures:[],orderedCreatures:[],notFoundCreatures:[]}},async mounted(){this.mapData=await Ne(),this.containers=await this.getLocations(),this.creatures=await this.getCreatures(),this.specialLocations=Object.keys(this.mapData.locations[re.get()].other),this.orderContainers(),this.orderSpecialLocations(),this.orderCreatures(),this.$watch("selectedMap",async()=>{this.containers=await this.getLocations(),this.specialLocations=Object.keys(this.mapData.locations[re.get()].other),this.creatures=await this.getCreatures(),this.orderContainers(),this.orderSpecialLocations(),this.orderCreatures()},{deep:!0})},methods:{spawnAmount(i,h){let b;return h=="other"?b=this.mapData.locations[re.get()].other[i]:b=this.mapData[h][re.get()][i],b?Object.keys(b).length:0},async getLocations(){let i={...this.mapData.locations[re.get()]};return delete i.VelteciteMineral,delete i.FocusCrystalMineral,delete i.TitanMineral,delete i.NickelMineral,delete i.WaterPlant,delete i.IvyPlant,delete i.DesertPlant,delete i.Brightcap,delete i.LootSpawnPoint_RedBarrel,delete i.LootSpawnPoint_CM_Human,delete i.LootSpawnPoint_Epic,delete i.LootSpawnPoint_Rare,delete i.LootSpawnPoint_Common,delete i.LootSpawnPoint_CM_Area,delete i.LootSpawnPoint_HDD,delete i.Special_LootPoint,delete i.LootPoint,delete i.GenericContainer,delete i.other,Object.keys(i)},async getCreatures(){let i={...this.mapData.creatureLocations[re.get()]};return Object.keys(i)},locationNamer(i){return Mt[i]},orderContainers(){let i=this.containers,h=Hl,b=[],C=[];for(let x in h)i.includes(x)?b.push(x):(b.push(x),C.push(x));this.orderedContainers=b,this.notFoundContainers=C},orderSpecialLocations(){let i=this.specialLocations,h=br,b=[],C=[];for(let x in h)i.includes(x)?b.push(x):(b.push(x),C.push(x));this.orderedSpecialLocations=b,this.notFoundSpecialLocations=C},enableAllContainers(){let i=this.orderedContainers,h=[];for(let b in i)h.push(i[b]);se.set(h)},disableAllContainers(){let i=se.get(),h=[];for(let b in i)_r.includes(i[b])&&h.push(i[b]);se.set(h)},creatureNamer(i){return qe[i]},orderCreatures(){let i=this.creatures,h=qe,b=[],C=[];for(let x in h)i.includes(x)?b.push(x):(b.push(x),C.push(x));this.orderedCreatures=b,this.notFoundCreatures=C},enableAllCreatures(){let i=this.orderedCreatures,h=[];for(let b in i)h.push(i[b]);be.set(h)},disableAllCreatures(){be.clear()},enableAllSpecial(){Object.keys(this.mapData.locations[re.get()].other),se.set(Object.keys(br))},disableAllSpecial(){let i=se.get(),h=[];for(let b in i)_r.includes(i[b])||h.push(i[b]);se.set(h)},containerClassGiver(i){let h="";return se.get().includes(i)?h+="selected ":h+="not-selected ",this.notFoundContainers.includes(i)&&(h+="not-found"),h},specialLocationClassGiver(i){let h="";return se.get().includes(i)?h+="selected ":h+="not-selected ",this.notFoundSpecialLocations.includes(i)&&(h+="not-found"),h},creatureClassGiver(i){let h="";return be.get().includes(i)?h+="selected ":h+="not-selected ",this.notFoundCreatures.includes(i)&&(h+="not-found"),h}}});const Lr=i=>(ct("data-v-55e348ab"),i=i(),ft(),i),fu=Lr(()=>I("h2",null," Containers ",-1)),hu={class:"button-container"},pu=["onClick","aria-label"],du={class:"small"},vu=Lr(()=>I("h2",null," Creature Spawns ",-1)),gu={class:"button-container"},mu=["onClick","aria-label"],_u={class:"small"},bu=Lr(()=>I("h2",null," Special Locations ",-1)),yu={class:"button-container"},Lu=["onClick","aria-label"],Cu={class:"small"};function ku(i,h,b,C,x,t){const a=ge("font-awesome-icon"),s=Ve("tooltip");return Y(),ee(Ae,null,[I("section",null,[I("header",null,[fu,fe((Y(),ee("div",{onClick:h[0]||(h[0]=o=>i.enableAllContainers()),"aria-label":"Enable all container locations",class:"enable-all"},[ie(a,{icon:"fa-solid fa-square-check"})])),[[s,{content:"Enable all",html:!0}]]),fe((Y(),ee("div",{onClick:h[1]||(h[1]=o=>i.disableAllContainers()),"aria-label":"Disable all container locations",class:"disable-all"},[ie(a,{icon:"fa-solid fa-square-xmark"})])),[[s,{content:"Disable all",html:!0}]])]),I("div",hu,[i.mapData?(Y(!0),ee(Ae,{key:0},Ct(i.orderedContainers,o=>(Y(),ee("div",{onClick:f=>i.notFoundContainers.includes(o)?null:i.selectedLocations.toggle(o),"aria-label":"Toggle "+i.locationNamer(o),role:"button"},[I("div",null,[I("p",{class:Oe(i.containerClassGiver(o))},[I("span",null,$e(i.locationNamer(o)),1),I("span",du," ("+$e(i.spawnAmount(o,"locations"))+") ",1)],2)])],8,pu))),256)):kt("",!0)])]),I("section",null,[I("header",null,[vu,fe((Y(),ee("div",{onClick:h[2]||(h[2]=o=>i.enableAllCreatures()),"aria-label":"Enable all creature locations",class:"enable-all"},[ie(a,{icon:"fa-solid fa-square-check"})])),[[s,{content:"Enable all",html:!0}]]),fe((Y(),ee("div",{onClick:h[3]||(h[3]=o=>i.disableAllCreatures()),"aria-label":"Disable all creature locations",class:"disable-all"},[ie(a,{icon:"fa-solid fa-square-xmark"})])),[[s,{content:"Disable all",html:!0}]])]),I("div",gu,[i.mapData?(Y(!0),ee(Ae,{key:0},Ct(i.orderedCreatures,o=>(Y(),ee("div",{onClick:f=>i.notFoundCreatures.includes(o)?null:i.selectedCreatures.toggle(o),"aria-label":"Toggle "+i.creatureNamer(o),role:"button"},[I("p",{class:Oe(i.creatureClassGiver(o))},[I("span",null,$e(i.creatureNamer(o)),1),I("span",_u," ("+$e(i.spawnAmount(o,"creatureLocations"))+") ",1)],2)],8,mu))),256)):kt("",!0)])]),I("section",null,[I("header",null,[bu,fe((Y(),ee("div",{onClick:h[4]||(h[4]=o=>i.enableAllSpecial()),"aria-label":"Enable all special locations",class:"enable-all"},[ie(a,{icon:"fa-solid fa-square-check"})])),[[s,{content:"Enable all",html:!0}]]),fe((Y(),ee("div",{onClick:h[5]||(h[5]=o=>i.disableAllSpecial()),"aria-label":"Disable all special locations",class:"disable-all"},[ie(a,{icon:"fa-solid fa-square-xmark"})])),[[s,{content:"Disable all",html:!0}]])]),I("div",yu,[i.mapData?(Y(!0),ee(Ae,{key:0},Ct(i.orderedSpecialLocations,o=>(Y(),ee("div",{onClick:f=>i.notFoundSpecialLocations.includes(o)?null:i.selectedLocations.toggle(o),"aria-label":"Toggle "+i.locationNamer(o),role:"button"},[I("p",{class:Oe(i.specialLocationClassGiver(o))},[I("span",null,$e(i.locationNamer(o)),1),I("span",Cu," ("+$e(i.spawnAmount(o,"other"))+") ",1)],2)],8,Lu))),256)):kt("",!0)])])],64)}const wu=xe(cu,[["render",ku],["__scopeId","data-v-55e348ab"]]);var ta={exports:{}};(function(i,h){(function(b,C){C(h)})(sa,function(b){var C=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var a=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,a?this._withAnimation:this._noAnimation),this._markerCluster=a?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var a=t,s=this._zoom;if(t.__parent)for(;a.__parent._zoom>=s;)a=a.__parent;return this._currentShownBounds.contains(a.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,a):this._animationAddLayerNonAnimated(t,a)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,a){if(!L.Util.isArray(t))return this.addLayer(t);var s=this._featureGroup,o=this._nonPointGroup,f=this.options.chunkedLoading,d=this.options.chunkInterval,m=this.options.chunkProgress,w=t.length,y=0,P=!0,_;if(this._map){var O=new Date().getTime(),G=L.bind(function(){var oe=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<w;y++){if(f&&y%200===0){var W=new Date().getTime()-oe;if(W>d)break}if(_=t[y],_ instanceof L.LayerGroup){P&&(t=t.slice(),P=!1),this._extractNonGroupLayers(_,t),w=t.length;continue}if(!_.getLatLng){o.addLayer(_),a||this.fire("layeradd",{layer:_});continue}if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),a||this.fire("layeradd",{layer:_}),_.__parent&&_.__parent.getChildCount()===2)){var X=_.__parent.getAllChildMarkers(),A=X[0]===_?X[1]:X[0];s.removeLayer(A)}}m&&m(y,w,new Date().getTime()-O),y===w?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(G,this.options.chunkDelay)},this);G()}else for(var j=this._needsClustering;y<w;y++){if(_=t[y],_ instanceof L.LayerGroup){P&&(t=t.slice(),P=!1),this._extractNonGroupLayers(_,t),w=t.length;continue}if(!_.getLatLng){o.addLayer(_);continue}this.hasLayer(_)||j.push(_)}return this},removeLayers:function(t){var a,s,o=t.length,f=this._featureGroup,d=this._nonPointGroup,m=!0;if(!this._map){for(a=0;a<o;a++){if(s=t[a],s instanceof L.LayerGroup){m&&(t=t.slice(),m=!1),this._extractNonGroupLayers(s,t),o=t.length;continue}this._arraySplice(this._needsClustering,s),d.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var w=t.slice(),y=o;for(a=0;a<y;a++){if(s=w[a],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,w),y=w.length;continue}this._unspiderfyLayer(s)}}for(a=0;a<o;a++){if(s=t[a],s instanceof L.LayerGroup){m&&(t=t.slice(),m=!1),this._extractNonGroupLayers(s,t),o=t.length;continue}if(!s.__parent){d.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),f.hasLayer(s)&&(f.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var a=this._needsClustering.length-1;a>=0;a--)t.extend(this._needsClustering[a].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,a){var s=this._needsClustering.slice(),o=this._needsRemoving,f,d,m;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),d=s.length-1;d>=0;d--){for(f=!0,m=o.length-1;m>=0;m--)if(o[m].layer===s[d]){f=!1;break}f&&t.call(a,s[d])}this._nonPointGroup.eachLayer(t,a)},getLayers:function(){var t=[];return this.eachLayer(function(a){t.push(a)}),t},getLayer:function(t){var a=null;return t=parseInt(t,10),this.eachLayer(function(s){L.stamp(s)===t&&(a=s)}),a},hasLayer:function(t){if(!t)return!1;var a,s=this._needsClustering;for(a=s.length-1;a>=0;a--)if(s[a]===t)return!0;for(s=this._needsRemoving,a=s.length-1;a>=0;a--)if(s[a].layer===t)return!1;return!!(t.__parent&&t.__parent._group===this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,a){var s=this._map;typeof a!="function"&&(a=function(){});var o=function(){(s.hasLayer(t)||s.hasLayer(t.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",o,this),this.off("animationend",o,this),s.hasLayer(t)?a():t.__parent._icon&&(this.once("spiderfied",a,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?a():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",o,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",o,this),this.on("animationend",o,this),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var a,s,o;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,a=0,s=this._needsRemoving.length;a<s;a++)o=this._needsRemoving[a],o.newlatlng=o.layer._latlng,o.layer._latlng=o.latlng;for(a=0,s=this._needsRemoving.length;a<s;a++)o=this._needsRemoving[a],this._removeLayer(o.layer,!0),o.layer._latlng=o.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var a=t;a&&!a._icon;)a=a.__parent;return a||null},_arraySplice:function(t,a){for(var s=t.length-1;s>=0;s--)if(t[s]===a)return t.splice(s,1),!0},_removeFromGridUnclustered:function(t,a){for(var s=this._map,o=this._gridUnclustered,f=Math.floor(this._map.getMinZoom());a>=f&&o[a].removeObject(t,s.project(t.getLatLng(),a));a--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var a=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),a&&t.target.openPopup()}},_moveChild:function(t,a,s){t._latlng=a,this.removeLayer(t),t._latlng=s,this.addLayer(t)},_childMarkerDragEnd:function(t){var a=t.target.__dragStart;delete t.target.__dragStart,a&&this._moveChild(t.target,a,t.target._latlng)},_removeLayer:function(t,a,s){var o=this._gridClusters,f=this._gridUnclustered,d=this._featureGroup,m=this._map,w=Math.floor(this._map.getMinZoom());a&&this._removeFromGridUnclustered(t,this._maxZoom);var y=t.__parent,P=y._markers,_;for(this._arraySplice(P,t);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<w));)a&&y._childCount<=1?(_=y._markers[0]===t?y._markers[1]:y._markers[0],o[y._zoom].removeObject(y,m.project(y._cLatLng,y._zoom)),f[y._zoom].addObject(_,m.project(_.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(_),_.__parent=y.__parent,y._icon&&(d.removeLayer(y),s||d.addLayer(_))):y._iconNeedsUpdate=!0,y=y.__parent;delete t.__parent},_isOrIsParent:function(t,a){for(;a;){if(t===a)return!0;a=a.parentNode}return!1},fire:function(t,a,s){if(a&&a.layer instanceof L.MarkerCluster){if(a.originalEvent&&this._isOrIsParent(a.layer._icon,a.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,a,s)},listens:function(t,a){return L.FeatureGroup.prototype.listens.call(this,t,a)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,a)},_defaultIconCreateFunction:function(t){var a=t.getChildCount(),s=" marker-cluster-";return a<10?s+="small":a<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+a+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,a=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,o=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom;(a||o||f)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var a=t.layer,s=a;if(!(t.type==="clusterkeypress"&&t.originalEvent&&t.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===a._childCount&&this.options.spiderfyOnMaxZoom?a.spiderfy():this.options.zoomToBoundsOnClick&&a.zoomToBounds(),this.options.spiderfyOnEveryZoom&&a.spiderfy(),t.originalEvent&&t.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(t){var a=this._map;this._inZoomAnimation||(this._shownPolygon&&a.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),a.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,a=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,o=this.options.spiderfyOnEveryZoom,f=this._map;(t||s||o)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),a&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){!this._map||(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),a=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,o=s;typeof s!="function"&&(o=function(){return s}),this.options.disableClusteringAtZoom!==null&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var f=t;f>=a;f--)this._gridClusters[f]=new L.DistanceGrid(o(f)),this._gridUnclustered[f]=new L.DistanceGrid(o(f));this._topClusterLevel=new this._markerCluster(this,a-1)},_addLayer:function(t,a){var s=this._gridClusters,o=this._gridUnclustered,f=Math.floor(this._map.getMinZoom()),d,m;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);a>=f;a--){d=this._map.project(t.getLatLng(),a);var w=s[a].getNearObject(d);if(w){w._addChild(t),t.__parent=w;return}if(w=o[a].getNearObject(d),w){var y=w.__parent;y&&this._removeLayer(w,!1);var P=new this._markerCluster(this,a,w,t);s[a].addObject(P,this._map.project(P._cLatLng,a)),w.__parent=P,t.__parent=P;var _=P;for(m=a-1;m>y._zoom;m--)_=new this._markerCluster(this,m,_),s[m].addObject(_,this._map.project(w.getLatLng(),m));y._addChild(_),this._removeFromGridUnclustered(w,a);return}o[a].addObject(t,d)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(t){var a=this._maxLat;return a!==void 0&&(t.getNorth()>=a&&(t._northEast.lat=1/0),t.getSouth()<=-a&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,a){if(a===t)this._featureGroup.addLayer(t);else if(a._childCount===2){a._addToMap();var s=a.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else a._updateIcon()},_extractNonGroupLayers:function(t,a){var s=t.getLayers(),o=0,f;for(a=a||[];o<s.length;o++){if(f=s[o],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,a);continue}a.push(f)}return a},_overrideMarkerIcon:function(t){var a=t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}});return a}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,a){this._animationAddLayerNonAnimated(t,a)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,a){var s=this._getExpandedVisibleBounds(),o=this._featureGroup,f=Math.floor(this._map.getMinZoom()),d;this._ignoreMove=!0,this._topClusterLevel._recursively(s,t,f,function(m){var w=m._latlng,y=m._markers,P;for(s.contains(w)||(w=null),m._isSingleParent()&&t+1===a?(o.removeLayer(m),m._recursivelyAddChildrenToMap(null,a,s)):(m.clusterHide(),m._recursivelyAddChildrenToMap(w,a,s)),d=y.length-1;d>=0;d--)P=y[d],s.contains(P._latlng)||o.removeLayer(P)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,a),o.eachLayer(function(m){!(m instanceof L.MarkerCluster)&&m._icon&&m.clusterShow()}),this._topClusterLevel._recursively(s,t,a,function(m){m._recursivelyRestoreChildPositions(a)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,t,f,function(m){o.removeLayer(m),m.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,a){this._animationZoomOutSingle(this._topClusterLevel,t-1,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,a){var s=this,o=this._featureGroup;o.addLayer(t),a!==t&&(a._childCount>2?(a._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(a.getLatLng())),t.clusterHide(),this._enqueue(function(){o.removeLayer(t),t.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(a,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,a,s){var o=this._getExpandedVisibleBounds(),f=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(o,f,a+1,s);var d=this;this._forceLayout(),t._recursivelyBecomeVisible(o,s),this._enqueue(function(){if(t._childCount===1){var m=t._markers[0];this._ignoreMove=!0,m.setLatLng(m.getLatLng()),this._ignoreMove=!1,m.clusterShow&&m.clusterShow()}else t._recursively(o,s,f,function(w){w._recursivelyRemoveChildrenFromMap(o,f,a+1)});d._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var x=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,a,s,o){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=a,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),o&&this._addChild(o)},getAllChildMarkers:function(t,a){t=t||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(t,a);for(var o=this._markers.length-1;o>=0;o--)a&&this._markers[o].__dragStart||t.push(this._markers[o]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var a=this._childClusters.slice(),s=this._group._map,o=s.getBoundsZoom(this._bounds),f=this._zoom+1,d=s.getZoom(),m;a.length>0&&o>f;){f++;var w=[];for(m=0;m<a.length;m++)w=w.concat(a[m]._childClusters);a=w}o>f?this._group._map.setView(this._latlng,f):o<=d?this._group._map.setView(this._latlng,d+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,a){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(a||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(a||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t=this._markers,a=this._childClusters,s=0,o=0,f=this._childCount,d,m,w,y;if(f!==0){for(this._resetBounds(),d=0;d<t.length;d++)w=t[d]._latlng,this._bounds.extend(w),s+=w.lat,o+=w.lng;for(d=0;d<a.length;d++)m=a[d],m._boundsNeedUpdate&&m._recalculateBounds(),this._bounds.extend(m._bounds),w=m._wLatLng,y=m._childCount,s+=w.lat*y,o+=w.lng*y;this._latlng=this._wLatLng=new L.LatLng(s/f,o/f),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,a,s){this._recursively(t,this._group._map.getMinZoom(),s-1,function(o){var f=o._markers,d,m;for(d=f.length-1;d>=0;d--)m=f[d],m._icon&&(m._setPos(a),m.clusterHide())},function(o){var f=o._childClusters,d,m;for(d=f.length-1;d>=0;d--)m=f[d],m._icon&&(m._setPos(a),m.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,a,s,o){this._recursively(t,o,a,function(f){f._recursivelyAnimateChildrenIn(t,f._group._map.latLngToLayerPoint(f.getLatLng()).round(),s),f._isSingleParent()&&s-1===o?(f.clusterShow(),f._recursivelyRemoveChildrenFromMap(t,a,s)):f.clusterHide(),f._addToMap()})},_recursivelyBecomeVisible:function(t,a){this._recursively(t,this._group._map.getMinZoom(),a,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(t,a,s){this._recursively(s,this._group._map.getMinZoom()-1,a,function(o){if(a!==o._zoom)for(var f=o._markers.length-1;f>=0;f--){var d=o._markers[f];!s.contains(d._latlng)||(t&&(d._backupLatlng=d.getLatLng(),d.setLatLng(t),d.clusterHide&&d.clusterHide()),o._group._featureGroup.addLayer(d))}},function(o){o._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var a=this._markers.length-1;a>=0;a--){var s=this._markers[a];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(t-1===this._zoom)for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._restorePosition();else for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,a,s,o){var f,d;this._recursively(t,a-1,s-1,function(m){for(d=m._markers.length-1;d>=0;d--)f=m._markers[d],(!o||!o.contains(f._latlng))&&(m._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())},function(m){for(d=m._childClusters.length-1;d>=0;d--)f=m._childClusters[d],(!o||!o.contains(f._latlng))&&(m._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())})},_recursively:function(t,a,s,o,f){var d=this._childClusters,m=this._zoom,w,y;if(a<=m&&(o&&o(this),f&&m===s&&f(this)),m<a||m<s)for(w=d.length-1;w>=0;w--)y=d[w],y._boundsNeedUpdate&&y._recalculateBounds(),t.intersects(y._bounds)&&y._recursively(t,a,s,o,f)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,a){var s=this._getCoord(a.x),o=this._getCoord(a.y),f=this._grid,d=f[o]=f[o]||{},m=d[s]=d[s]||[],w=L.Util.stamp(t);this._objectPoint[w]=a,m.push(t)},updateObject:function(t,a){this.removeObject(t),this.addObject(t,a)},removeObject:function(t,a){var s=this._getCoord(a.x),o=this._getCoord(a.y),f=this._grid,d=f[o]=f[o]||{},m=d[s]=d[s]||[],w,y;for(delete this._objectPoint[L.Util.stamp(t)],w=0,y=m.length;w<y;w++)if(m[w]===t)return m.splice(w,1),y===1&&delete d[s],!0},eachObject:function(t,a){var s,o,f,d,m,w,y,P=this._grid;for(s in P){m=P[s];for(o in m)for(w=m[o],f=0,d=w.length;f<d;f++)y=t.call(a,w[f]),y&&(f--,d--)}},getNearObject:function(t){var a=this._getCoord(t.x),s=this._getCoord(t.y),o,f,d,m,w,y,P,_,O=this._objectPoint,G=this._sqCellSize,j=null;for(o=s-1;o<=s+1;o++)if(m=this._grid[o],m){for(f=a-1;f<=a+1;f++)if(w=m[f],w)for(d=0,y=w.length;d<y;d++)P=w[d],_=this._sqDist(O[L.Util.stamp(P)],t),(_<G||_<=G&&j===null)&&(G=_,j=P)}return j},_getCoord:function(t){var a=Math.floor(t/this._cellSize);return isFinite(a)?a:t},_sqDist:function(t,a){var s=a.x-t.x,o=a.y-t.y;return s*s+o*o}},function(){L.QuickHull={getDistant:function(t,a){var s=a[1].lat-a[0].lat,o=a[0].lng-a[1].lng;return o*(t.lat-a[0].lat)+s*(t.lng-a[0].lng)},findMostDistantPointFromBaseLine:function(t,a){var s=0,o=null,f=[],d,m,w;for(d=a.length-1;d>=0;d--){if(m=a[d],w=this.getDistant(m,t),w>0)f.push(m);else continue;w>s&&(s=w,o=m)}return{maxPoint:o,newPoints:f}},buildConvexHull:function(t,a){var s=[],o=this.findMostDistantPointFromBaseLine(t,a);return o.maxPoint?(s=s.concat(this.buildConvexHull([t[0],o.maxPoint],o.newPoints)),s=s.concat(this.buildConvexHull([o.maxPoint,t[1]],o.newPoints)),s):[t[0]]},getConvexHull:function(t){var a=!1,s=!1,o=!1,f=!1,d=null,m=null,w=null,y=null,P=null,_=null,O;for(O=t.length-1;O>=0;O--){var G=t[O];(a===!1||G.lat>a)&&(d=G,a=G.lat),(s===!1||G.lat<s)&&(m=G,s=G.lat),(o===!1||G.lng>o)&&(w=G,o=G.lng),(f===!1||G.lng<f)&&(y=G,f=G.lng)}s!==a?(_=m,P=d):(_=y,P=w);var j=[].concat(this.buildConvexHull([_,P],t),this.buildConvexHull([P,_],t));return j}}}(),L.MarkerCluster.include({getConvexHull:function(){var t=this.getAllChildMarkers(),a=[],s,o;for(o=t.length-1;o>=0;o--)s=t[o].getLatLng(),a.push(s);return L.QuickHull.getConvexHull(a)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var t=this.getAllChildMarkers(null,!0),a=this._group,s=a._map,o=s.latLngToLayerPoint(this._latlng),f;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?f=this._group.options.spiderfyShapePositions(t.length,o):t.length>=this._circleSpiralSwitchover?f=this._generatePointsSpiral(t.length,o):(o.y+=10,f=this._generatePointsCircle(t.length,o)),this._animationSpiderfy(t,f)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,a){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),o=s/this._2PI,f=this._2PI/t,d=[],m,w;for(o=Math.max(o,35),d.length=t,m=0;m<t;m++)w=this._circleStartAngle+m*f,d[m]=new L.Point(a.x+o*Math.cos(w),a.y+o*Math.sin(w))._round();return d},_generatePointsSpiral:function(t,a){var s=this._group.options.spiderfyDistanceMultiplier,o=s*this._spiralLengthStart,f=s*this._spiralFootSeparation,d=s*this._spiralLengthFactor*this._2PI,m=0,w=[],y;for(w.length=t,y=t;y>=0;y--)y<t&&(w[y]=new L.Point(a.x+o*Math.cos(m),a.y+o*Math.sin(m))._round()),m+=f/o+y*5e-4,o+=d/m;return w},_noanimationUnspiderfy:function(){var t=this._group,a=t._map,s=t._featureGroup,o=this.getAllChildMarkers(null,!0),f,d;for(t._ignoreMove=!0,this.setOpacity(1),d=o.length-1;d>=0;d--)f=o[d],s.removeLayer(f),f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng),f.setZIndexOffset&&f.setZIndexOffset(0),f._spiderLeg&&(a.removeLayer(f._spiderLeg),delete f._spiderLeg);t.fire("unspiderfied",{cluster:this,markers:o}),t._ignoreMove=!1,t._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,a){var s=this._group,o=s._map,f=s._featureGroup,d=this._group.options.spiderLegPolylineOptions,m,w,y,P;for(s._ignoreMove=!0,m=0;m<t.length;m++)P=o.layerPointToLatLng(a[m]),w=t[m],y=new L.Polyline([this._latlng,P],d),o.addLayer(y),w._spiderLeg=y,w._preSpiderfyLatlng=w._latlng,w.setLatLng(P),w.setZIndexOffset&&w.setZIndexOffset(1e6),f.addLayer(w);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,a){var s=this,o=this._group,f=o._map,d=o._featureGroup,m=this._latlng,w=f.latLngToLayerPoint(m),y=L.Path.SVG,P=L.extend({},this._group.options.spiderLegPolylineOptions),_=P.opacity,O,G,j,oe,W,X;for(_===void 0&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(P.opacity=0,P.className=(P.className||"")+" leaflet-cluster-spider-leg"):P.opacity=_,o._ignoreMove=!0,O=0;O<t.length;O++)G=t[O],X=f.layerPointToLatLng(a[O]),j=new L.Polyline([m,X],P),f.addLayer(j),G._spiderLeg=j,y&&(oe=j._path,W=oe.getTotalLength()+.1,oe.style.strokeDasharray=W,oe.style.strokeDashoffset=W),G.setZIndexOffset&&G.setZIndexOffset(1e6),G.clusterHide&&G.clusterHide(),d.addLayer(G),G._setPos&&G._setPos(w);for(o._forceLayout(),o._animationStart(),O=t.length-1;O>=0;O--)X=f.layerPointToLatLng(a[O]),G=t[O],G._preSpiderfyLatlng=G._latlng,G.setLatLng(X),G.clusterShow&&G.clusterShow(),y&&(j=G._spiderLeg,oe=j._path,oe.style.strokeDashoffset=0,j.setStyle({opacity:_}));this.setOpacity(.3),o._ignoreMove=!1,setTimeout(function(){o._animationEnd(),o.fire("spiderfied",{cluster:s,markers:t})},200)},_animationUnspiderfy:function(t){var a=this,s=this._group,o=s._map,f=s._featureGroup,d=t?o._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):o.latLngToLayerPoint(this._latlng),m=this.getAllChildMarkers(null,!0),w=L.Path.SVG,y,P,_,O,G,j;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),P=m.length-1;P>=0;P--)y=m[P],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,j=!0,y._setPos&&(y._setPos(d),j=!1),y.clusterHide&&(y.clusterHide(),j=!1),j&&f.removeLayer(y),w&&(_=y._spiderLeg,O=_._path,G=O.getTotalLength()+.1,O.style.strokeDashoffset=G,_.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var oe=0;for(P=m.length-1;P>=0;P--)y=m[P],y._spiderLeg&&oe++;for(P=m.length-1;P>=0;P--)y=m[P],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),oe>1&&f.removeLayer(y),o.removeLayer(y._spiderLeg),delete y._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:a,markers:m})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){!this._map||this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var a,s;for(a in t)for(s=t[a].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(t){var a,s;for(a in t)s=t[a],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(t,a){var s=this.options.icon;return L.setOptions(s,t),this.setIcon(s),a&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),b.MarkerClusterGroup=C,b.MarkerCluster=x,Object.defineProperty(b,"__esModule",{value:!0})})})(ta,ta.exports);var ra={exports:{}};(function(i,h){L.ResponsivePopup=L.Popup.extend({options:{hasTip:!0},_initLayout:function(){var b="leaflet-popup",C=this._container=L.DomUtil.create("div",b+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=L.DomUtil.create("div",b+"-content-wrapper",C);if(this._contentNode=L.DomUtil.create("div",b+"-content",x),L.DomEvent.disableClickPropagation(C),L.DomEvent.disableScrollPropagation(this._contentNode),L.DomEvent.on(C,"contextmenu",L.DomEvent.stopPropagation),this._tipContainer=L.DomUtil.create("div",b+"-tip-container",C),this.options.hasTip||(this._tipContainer.style.visibility="hidden"),this._tip=L.DomUtil.create("div",b+"-tip",this._tipContainer),this.options.closeButton){var t=this._closeButton=L.DomUtil.create("a",b+"-close-button",C);t.setAttribute("role","button"),t.setAttribute("aria-label","Close popup"),t.href="#close",t.innerHTML='<span aria-hidden="true">&#215;</span>',L.DomEvent.on(t,"click",function(a){L.DomEvent.preventDefault(a),this.close()},this)}},_updatePosition:function(){if(!!this._map){var b=this._map.latLngToLayerPoint(this._latlng),C=this._map.layerPointToContainerPoint(b),x=this._container.offsetWidth,t=this._container.offsetHeight,a=L.point(this.options.autoPanPadding),s=L.point(this.options.autoPanPaddingTopLeft||a),o=L.point(this.options.autoPanPaddingBottomRight||a),f=this._map.getSize(),d=this._getAnchor(),m=L.point(this.options.offset),w=11,y=22,P=12,_=Math.abs(m.x),O=Math.abs(m.y);this.options.hasTip&&(_+=w,O+=w,L.DomUtil.removeClass(this._container,"leaflet-resp-popup-north"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-south"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-east"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-west"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-north-east"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-north-west"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-south-east"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-south-west"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-east-north"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-east-south"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-west-north"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-west-south"));var G=!0,j=!0,oe=!0,W=!0,X=!1;C.y+d.y-O-t-Math.abs(s.y)<0&&(G=!1),C.y+d.y+O+t+Math.abs(o.y)>f.y&&(j=!1),C.x+d.x-_-x-Math.abs(s.x)<0&&(oe=!1),C.x+d.x+_+x+Math.abs(o.x)>f.x&&(W=!1);var A=x/2-d.x,ye=t/2-d.y;if(G||j){var ne=C.x+d.x-x/2,Xe=C.x+d.x+x/2;ne<Math.abs(s.x)&&(A=x/2-d.x-Math.abs(s.x)+ne),Xe>f.x-Math.abs(o.x)&&(A=x/2-d.x+Xe-f.x+Math.abs(o.x))}if(oe||W){var Re=C.y+d.y-t/2,Ye=C.y+d.y+t/2;Re<Math.abs(s.y)&&(ye=t/2-d.y-Math.abs(s.y)+Re),Ye>f.y-Math.abs(o.y)&&(ye=t/2-d.y+Ye-f.y+Math.abs(o.y))}if(G)X=b.subtract(L.point(A,-d.y+t+O,!0)),this.options.hasTip&&(C.x+d.x<s.x+P+y/2?(X.x=b.x+d.x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-north-east"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left="0px"):C.x+d.x>f.x-o.x-P-y/2?(X.x=b.x+d.x-x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-north-west"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left=x+"px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-north"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left=b.x+d.x-X.x+"px"));else if(oe)X=b.subtract(L.point(-d.x+x+_,ye,!0)),this.options.hasTip&&(C.y+d.y<s.y+P+y/2?(X.y=b.y+d.y,L.DomUtil.addClass(this._container,"leaflet-resp-popup-west-south"),this._tipContainer.style.top="0px",this._tipContainer.style.left=x+"px"):C.y+d.y>f.y-o.y-P-y/2?(X.y=b.y+d.y-t,L.DomUtil.addClass(this._container,"leaflet-resp-popup-west-north"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left=x+"px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-west"),this._tipContainer.style.top=b.y+d.y-X.y+"px",this._tipContainer.style.left=x+"px"));else if(j)X=b.subtract(L.point(A,-d.y-O,!0)),this.options.hasTip&&(C.x+d.x<s.x+P+y/2?(X.x=b.x+d.x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-south-east"),this._tipContainer.style.top="0px",this._tipContainer.style.left="0px"):C.x+d.x>f.x-o.x-P-y/2?(X.x=b.x+d.x-x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-south-west"),this._tipContainer.style.top="0px",this._tipContainer.style.left=x+"px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-south"),this._tipContainer.style.top="0px",this._tipContainer.style.left=b.x+d.x-X.x+"px"));else if(W)X=b.subtract(L.point(-d.x-_,ye,!0)),this.options.hasTip&&(C.y+d.y<s.y+P+y/2?(X.y=b.y+d.y,L.DomUtil.addClass(this._container,"leaflet-resp-popup-east-south"),this._tipContainer.style.top="0px",this._tipContainer.style.left="0px"):C.y+d.y>f.y-o.y-P-y/2?(X.y=b.y+d.y-t,L.DomUtil.addClass(this._container,"leaflet-resp-popup-east-north"),this._tipContainer.style.top=t+"px",this._tipContainer.style.left="0px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-east"),this._tipContainer.style.top=b.y+d.y-X.y+"px",this._tipContainer.style.left="0px"));else{var b=this._map.latLngToLayerPoint(this._map.getCenter());X=b.subtract(L.point(x/2,t/2)),this.options.hasTip}C.x<0||C.y<0||C.x>f.x||C.y>f.y,x-Math.abs(s.x)-Math.abs(o.x)>f.x||t-Math.abs(s.y)-Math.abs(o.y)>f.y,L.DomUtil.setPosition(this._container,X)}}}),L.responsivePopup=function(b,C){return new L.ResponsivePopup(b,C)},h.responsivePopup=L.responsivePopup,h.ResponsivePopup=L.ResponsivePopup})(ra,ra.exports);const je=await Ne();function na(i){let h=je.descriptions,b;if(je.lootPools[i])b=je.lootPools[i].items;else{const y=document.createElement("section"),P=document.createElement("p"),_=document.createTextNode("Uh oh! This location is missing its loot. Please let us know through Discord.");return P.appendChild(_),y.appendChild(P),y}const C=document.createElement("section"),x=document.createElement("h2");let t="";je.lootPools[i].tier?t="Tier "+je.lootPools[i].tier+" Spawn":t="Special Spawn";const a=document.createTextNode(t);x.appendChild(a);const s=document.createElement("table"),o=document.createElement("thead");let f=document.createElement("tr"),d=document.createElement("th"),m=document.createTextNode("Item");d.appendChild(m),f.appendChild(d),d=document.createElement("th"),m=document.createTextNode("Spawn %"),d.appendChild(m),f.appendChild(d),o.appendChild(f);const w=document.createElement("tbody");for(let y in b){let P=[y,b[y].chance];const _=document.createElement("tr");for(let O in P){const G=document.createElement("td");let j;if(parseInt(O)===0)j=h[P[O]].name??"Something went wrong";else if(parseInt(O)===1){let W=Wl(P[O]);W===0&&(W="<0.001"),j=W+"%"}else parseInt(O)===2&&(j=P[O]+"\xD7");const oe=document.createTextNode(j);if(parseInt(O)===0&&G.classList.add(h[P[O]].rarity.toLowerCase()),parseInt(O)===0){const W=document.createElement("img");P[O].includes("KeyCard")?P[O].includes("Map01")?W.src="map-images/item-images/Bright_Sands_Key_Card.png":P[O].includes("Map02")?W.src="map-images/item-images/Crescent_Falls_Key_Card.png":P[O].includes("Map03")?W.src="map-images/item-images/Tharis_Island_Key_Card.png":W.src="map-images/item-images/Bright_Sands_Key_Card.png":P[O].includes("Flechette Gun")?W.src="map-images/item-images/ASP_Flechette_Gun.png":W.src=`map-images/item-images/${h[P[O]].name.replace(" - Mk.II","").replace(" - Prototype","").replaceAll(" ","_")}.png`,W.classList.add("item-image"),G.appendChild(W)}G.appendChild(oe),_.appendChild(G)}w.appendChild(_)}return s.appendChild(o),s.appendChild(w),C.appendChild(x),C.appendChild(s),C}function Mu(i,h,b){const C=document.createElement("section"),x=document.createElement("h2"),t=document.createTextNode(Mt[i].toString());if(x.appendChild(t),C.appendChild(x),ea[i]){const s=document.createElement("p"),o=document.createTextNode(ea[i].toString());s.appendChild(o),C.appendChild(s)}else{if(i=="keyDoor"){const s=jl[h];if(s){const o=aa(s);C.appendChild(o)}else if(je.descriptions[h]!=null){const o=aa(je.descriptions[h]);C.appendChild(o)}else C.append("Something went wrong...")}if(i=="DeadDrop"){var a=ql[h];if(a==null&&(a={ingame:h}),a){const s=$u(a);C.appendChild(s)}else C.append("Something went wrong...")}}return C}function aa(i){const h=document.createElement("div"),b=document.createElement("h3"),C=document.createTextNode(i.name);b.appendChild(C),h.appendChild(b);let x=document.createElement("p"),t=document.createTextNode("Rarity: "+i.rarity);return x.appendChild(t),h.appendChild(x),x=document.createElement("p"),t=document.createTextNode("Description: "+i.description),x.appendChild(t),h.appendChild(x),h}function $u(i){const h=document.createElement("div"),b=document.createElement("h3"),C=document.createTextNode(i.ingame);b.appendChild(C),h.appendChild(b);let x=document.createElement("p"),t=document.createTextNode("Description: "+i.description);return x.appendChild(t),h.appendChild(x),h}let Ue={};function Su(){return Ue}async function xu(){const i=await Ne();for(var h in i.locations){Ue[h]||(Ue[h]={});for(var b in i.locations[h]){if(b=="other"){for(let x in i.locations[h][b])C(h,x,i.locations[h][b][x]);continue}C(h,b,i.locations[h][b])}}function C(x,t,a){let s=le.layerGroup(),o;Object.keys(br).includes(t)?o=le.icon({iconUrl:`map-images/marker-icons/${t}.png`,iconSize:[25,25],className:"marker marker-type-special"}):o=le.icon({iconUrl:`map-images/marker-icons/${t}.png`,iconSize:[25,25],className:"marker marker-type-container"});for(let f in a){let d=new yr.exports.Marker(a[f].location,{riseOnHover:!0,icon:o});s.addLayer(d);let m=le.responsivePopup().setContent("Placeholder");d.bindPopup(m),d.on("click",ua),d.data=a[f].lootPool,d.type=t,d.location=a[f].location;let w=a[f].rawName;w&&(w.includes("KeyCard")||w.includes("DeadDrop"))&&(d.rawName=w)}Ue[x][t]=s}}function Pu(){return Ue}async function Iu(){const i=await Ne();for(var h in i.creatureLocations){Ue[h]||(Ue[h]={});for(var b in i.creatureLocations[h])C(h,b,i.creatureLocations[h][b])}function C(x,t,a){let s=le.layerGroup(),o="";t.includes("Beetle")?t.includes("Acid")?o="map-images/item-images/Acid_Tick.png":o="map-images/item-images/Blast_Tick.png":qe[t]!=null?o=`map-images/item-images/${qe[t].replaceAll(" ","_")}_Head.png`:o=`map-images/item-images/${t.replaceAll(" ","_")}_Head.png`;let f=le.icon({iconUrl:o,iconSize:[25,25],className:"marker marker-type-creature"});for(let d in a){let m=new yr.exports.Marker(a[d].location,{riseOnHover:!0,icon:f});s.addLayer(m)}Ue[x][t]=s}}let Lt={},la={};function _t(){return Lt}function gr(){return la}const bt=await Ne();async function yt(){At.get()&&(Lt={}),Lt[re.get()]||(Lt[re.get()]={});for(let h in bt.itemSpawns[re.get()]){if(!Ce.get().includes(h))continue;let b;if(wt.get()){let C=[];const x=bt.itemSpawns[re.get()][h];for(let t in x){const a=x[t].lootPool;if(!a)continue;const s=bt.lootPools[a].items;if(!s)continue;const o=s[h];if(!o)continue;const f=o.chance;!f||f>=wt.get()&&C.push(x[t])}b=C}else b=bt.itemSpawns[re.get()][h];la[h]=b.length,i(re.get().toString(),h,b)}function i(h,b,C){let x=le.markerClusterGroup({showCoverageOnHover:!1,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:At.get()?-10:5,iconCreateFunction:function(o){let f=o.getChildCount(),d=" marker-cluster-";return f<5?d+="uncommon":f<15?d+="rare":f<45?d+="epic":d+="legendary",new le.DivIcon({html:"<div><span>"+f+"</span></div>",className:"marker-cluster"+d,iconSize:new le.Point(20,20)})}}),t;b?.includes("Map01_KeyCard")?t="Bright_Sands_Key_Card.png":b?.includes("Map02_KeyCard")?t="Crescent_Falls_Key_Card.png":b?.includes("Map03_KeyCard")?t="Tharis_Island_Key_Card.png":t=bt.descriptions[b].icon.replace(" - Mk.II","").replace(" - Prototype","").replaceAll(" ","_").replaceAll("#","%23");let a=b.includes("WP_")?25/2.527:25,s=le.icon({iconUrl:`map-images/item-images/${t}`,iconSize:[25,a],className:"marker marker-type-item"});for(let o in C){let f=new yr.exports.Marker(C[o].location,{riseOnHover:!0,icon:s});f.bindPopup("Placeholder!"),f.on("click",ua),f.data=C[o].lootPool,f.options.title=C[o].lootPool,x.addLayer(f)}Lt[h][b]=x}}function ua(i){let h=i.target.getPopup(),b=i.target.type??null,C=i.target.rawName??null,x=i.target.data;if(i.target.location,b)if(_r.includes(b)){const t=Mu(b,C);h.setContent(t)}else{const t=na(x);h.setContent(t)}else{const t=na(x);h.setContent(t)}}var ca={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(i,h){(function(b,C){i.exports=C()})(sa,function(){for(var b=function(e,r,n){return r===void 0&&(r=0),n===void 0&&(n=1),e<r?r:e>n?n:e},C=b,x=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var r=0;r<=3;r++)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]=C(e[r],0,255)):r===3&&(e[r]=C(e[r],0,1));return e},t={},a=0,s=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];a<s.length;a+=1){var o=s[a];t["[object "+o+"]"]=o.toLowerCase()}var f=function(e){return t[Object.prototype.toString.call(e)]||"object"},d=f,m=function(e,r){return r===void 0&&(r=null),e.length>=3?Array.prototype.slice.call(e):d(e[0])=="object"&&r?r.split("").filter(function(n){return e[0][n]!==void 0}).map(function(n){return e[0][n]}):e[0]},w=f,y=function(e){if(e.length<2)return null;var r=e.length-1;return w(e[r])=="string"?e[r].toLowerCase():null},P=Math.PI,_={clip_rgb:x,limit:b,type:f,unpack:m,last:y,PI:P,TWOPI:P*2,PITHIRD:P/3,DEG2RAD:P/180,RAD2DEG:180/P},O={format:{},autodetect:[]},G=_.last,j=_.clip_rgb,oe=_.type,W=O,X=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];var l=this;if(oe(r[0])==="object"&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];var c=G(r),p=!1;if(!c){p=!0,W.sorted||(W.autodetect=W.autodetect.sort(function(M,T){return T.p-M.p}),W.sorted=!0);for(var u=0,v=W.autodetect;u<v.length;u+=1){var g=v[u];if(c=g.test.apply(g,r),c)break}}if(W.format[c]){var k=W.format[c].apply(null,p?r:r.slice(0,-1));l._rgb=j(k)}else throw new Error("unknown format: "+r);l._rgb.length===3&&l._rgb.push(1)};X.prototype.toString=function(){return oe(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var A=X,ye=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(ye.Color,[null].concat(e)))};ye.Color=A,ye.version="2.4.2";var ne=ye,Xe=_.unpack,Re=Math.max,Ye=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Xe(e,"rgb"),l=n[0],c=n[1],p=n[2];l=l/255,c=c/255,p=p/255;var u=1-Re(l,Re(c,p)),v=u<1?1/(1-u):0,g=(1-l-u)*v,k=(1-c-u)*v,M=(1-p-u)*v;return[g,k,M,u]},B=Ye,ue=_.unpack,me=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=ue(e,"cmyk");var n=e[0],l=e[1],c=e[2],p=e[3],u=e.length>4?e[4]:1;return p===1?[0,0,0,u]:[n>=1?0:255*(1-n)*(1-p),l>=1?0:255*(1-l)*(1-p),c>=1?0:255*(1-c)*(1-p),u]},pa=me,da=ne,Cr=A,kr=O,va=_.unpack,ga=_.type,ma=B;Cr.prototype.cmyk=function(){return ma(this._rgb)},da.cmyk=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Cr,[null].concat(e,["cmyk"])))},kr.format.cmyk=pa,kr.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=va(e,"cmyk"),ga(e)==="array"&&e.length===4)return"cmyk"}});var _a=_.unpack,ba=_.last,Bt=function(e){return Math.round(e*100)/100},ya=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=_a(e,"hsla"),l=ba(e)||"lsa";return n[0]=Bt(n[0]||0),n[1]=Bt(n[1]*100)+"%",n[2]=Bt(n[2]*100)+"%",l==="hsla"||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,l="hsla"):n.length=3,l+"("+n.join(",")+")"},La=ya,Ca=_.unpack,ka=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=Ca(e,"rgba");var n=e[0],l=e[1],c=e[2];n/=255,l/=255,c/=255;var p=Math.min(n,l,c),u=Math.max(n,l,c),v=(u+p)/2,g,k;return u===p?(g=0,k=Number.NaN):g=v<.5?(u-p)/(u+p):(u-p)/(2-u-p),n==u?k=(l-c)/(u-p):l==u?k=2+(c-n)/(u-p):c==u&&(k=4+(n-l)/(u-p)),k*=60,k<0&&(k+=360),e.length>3&&e[3]!==void 0?[k,g,v,e[3]]:[k,g,v]},wr=ka,wa=_.unpack,Ma=_.last,$a=La,Sa=wr,Ut=Math.round,xa=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=wa(e,"rgba"),l=Ma(e)||"rgb";return l.substr(0,3)=="hsl"?$a(Sa(n),l):(n[0]=Ut(n[0]),n[1]=Ut(n[1]),n[2]=Ut(n[2]),(l==="rgba"||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,l="rgba"),l+"("+n.slice(0,l==="rgb"?3:4).join(",")+")")},Pa=xa,Ia=_.unpack,Rt=Math.round,Ta=function(){for(var e,r=[],n=arguments.length;n--;)r[n]=arguments[n];r=Ia(r,"hsl");var l=r[0],c=r[1],p=r[2],u,v,g;if(c===0)u=v=g=p*255;else{var k=[0,0,0],M=[0,0,0],T=p<.5?p*(1+c):p+c-p*c,$=2*p-T,D=l/360;k[0]=D+1/3,k[1]=D,k[2]=D-1/3;for(var E=0;E<3;E++)k[E]<0&&(k[E]+=1),k[E]>1&&(k[E]-=1),6*k[E]<1?M[E]=$+(T-$)*6*k[E]:2*k[E]<1?M[E]=T:3*k[E]<2?M[E]=$+(T-$)*(2/3-k[E])*6:M[E]=$;e=[Rt(M[0]*255),Rt(M[1]*255),Rt(M[2]*255)],u=e[0],v=e[1],g=e[2]}return r.length>3?[u,v,g,r[3]]:[u,v,g,1]},Mr=Ta,$r=Mr,Sr=O,xr=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Pr=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Ir=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Tr=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Or=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Nr=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Er=Math.round,Dr=function(e){e=e.toLowerCase().trim();var r;if(Sr.format.named)try{return Sr.format.named(e)}catch{}if(r=e.match(xr)){for(var n=r.slice(1,4),l=0;l<3;l++)n[l]=+n[l];return n[3]=1,n}if(r=e.match(Pr)){for(var c=r.slice(1,5),p=0;p<4;p++)c[p]=+c[p];return c}if(r=e.match(Ir)){for(var u=r.slice(1,4),v=0;v<3;v++)u[v]=Er(u[v]*2.55);return u[3]=1,u}if(r=e.match(Tr)){for(var g=r.slice(1,5),k=0;k<3;k++)g[k]=Er(g[k]*2.55);return g[3]=+g[3],g}if(r=e.match(Or)){var M=r.slice(1,4);M[1]*=.01,M[2]*=.01;var T=$r(M);return T[3]=1,T}if(r=e.match(Nr)){var $=r.slice(1,4);$[1]*=.01,$[2]*=.01;var D=$r($);return D[3]=+r[4],D}};Dr.test=function(e){return xr.test(e)||Pr.test(e)||Ir.test(e)||Tr.test(e)||Or.test(e)||Nr.test(e)};var Oa=Dr,Na=ne,Gr=A,Fr=O,Ea=_.type,Da=Pa,Ar=Oa;Gr.prototype.css=function(e){return Da(this._rgb,e)},Na.css=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Gr,[null].concat(e,["css"])))},Fr.format.css=Ar,Fr.autodetect.push({p:5,test:function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];if(!r.length&&Ea(e)==="string"&&Ar.test(e))return"css"}});var Br=A,Ga=ne,Fa=O,Aa=_.unpack;Fa.format.gl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Aa(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},Ga.gl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Br,[null].concat(e,["gl"])))},Br.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Ba=_.unpack,Ua=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Ba(e,"rgb"),l=n[0],c=n[1],p=n[2],u=Math.min(l,c,p),v=Math.max(l,c,p),g=v-u,k=g*100/255,M=u/(255-g)*100,T;return g===0?T=Number.NaN:(l===v&&(T=(c-p)/g),c===v&&(T=2+(p-l)/g),p===v&&(T=4+(l-c)/g),T*=60,T<0&&(T+=360)),[T,k,M]},Ra=Ua,za=_.unpack,Za=Math.floor,Ha=function(){for(var e,r,n,l,c,p,u=[],v=arguments.length;v--;)u[v]=arguments[v];u=za(u,"hcg");var g=u[0],k=u[1],M=u[2],T,$,D;M=M*255;var E=k*255;if(k===0)T=$=D=M;else{g===360&&(g=0),g>360&&(g-=360),g<0&&(g+=360),g/=60;var U=Za(g),Z=g-U,q=M*(1-k),K=q+E*(1-Z),de=q+E*Z,pe=q+E;switch(U){case 0:e=[pe,de,q],T=e[0],$=e[1],D=e[2];break;case 1:r=[K,pe,q],T=r[0],$=r[1],D=r[2];break;case 2:n=[q,pe,de],T=n[0],$=n[1],D=n[2];break;case 3:l=[q,K,pe],T=l[0],$=l[1],D=l[2];break;case 4:c=[de,q,pe],T=c[0],$=c[1],D=c[2];break;case 5:p=[pe,q,K],T=p[0],$=p[1],D=p[2];break}}return[T,$,D,u.length>3?u[3]:1]},ja=Ha,qa=_.unpack,Va=_.type,Wa=ne,Ur=A,Rr=O,Xa=Ra;Ur.prototype.hcg=function(){return Xa(this._rgb)},Wa.hcg=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Ur,[null].concat(e,["hcg"])))},Rr.format.hcg=ja,Rr.autodetect.push({p:1,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=qa(e,"hcg"),Va(e)==="array"&&e.length===3)return"hcg"}});var Ya=_.unpack,Ka=_.last,$t=Math.round,Ja=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Ya(e,"rgba"),l=n[0],c=n[1],p=n[2],u=n[3],v=Ka(e)||"auto";u===void 0&&(u=1),v==="auto"&&(v=u<1?"rgba":"rgb"),l=$t(l),c=$t(c),p=$t(p);var g=l<<16|c<<8|p,k="000000"+g.toString(16);k=k.substr(k.length-6);var M="0"+$t(u*255).toString(16);switch(M=M.substr(M.length-2),v.toLowerCase()){case"rgba":return"#"+k+M;case"argb":return"#"+M+k;default:return"#"+k}},zr=Ja,Qa=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ei=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ti=function(e){if(e.match(Qa)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var r=parseInt(e,16),n=r>>16,l=r>>8&255,c=r&255;return[n,l,c,1]}if(e.match(ei)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var p=parseInt(e,16),u=p>>24&255,v=p>>16&255,g=p>>8&255,k=Math.round((p&255)/255*100)/100;return[u,v,g,k]}throw new Error("unknown hex color: "+e)},Zr=ti,ri=ne,Hr=A,ni=_.type,jr=O,ai=zr;Hr.prototype.hex=function(e){return ai(this._rgb,e)},ri.hex=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Hr,[null].concat(e,["hex"])))},jr.format.hex=Zr,jr.autodetect.push({p:4,test:function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];if(!r.length&&ni(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var ii=_.unpack,qr=_.TWOPI,oi=Math.min,si=Math.sqrt,li=Math.acos,ui=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=ii(e,"rgb"),l=n[0],c=n[1],p=n[2];l/=255,c/=255,p/=255;var u,v=oi(l,c,p),g=(l+c+p)/3,k=g>0?1-v/g:0;return k===0?u=NaN:(u=(l-c+(l-p))/2,u/=si((l-c)*(l-c)+(l-p)*(c-p)),u=li(u),p>c&&(u=qr-u),u/=qr),[u*360,k,g]},ci=ui,fi=_.unpack,zt=_.limit,Ke=_.TWOPI,Zt=_.PITHIRD,Je=Math.cos,hi=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=fi(e,"hsi");var n=e[0],l=e[1],c=e[2],p,u,v;return isNaN(n)&&(n=0),isNaN(l)&&(l=0),n>360&&(n-=360),n<0&&(n+=360),n/=360,n<1/3?(v=(1-l)/3,p=(1+l*Je(Ke*n)/Je(Zt-Ke*n))/3,u=1-(v+p)):n<2/3?(n-=1/3,p=(1-l)/3,u=(1+l*Je(Ke*n)/Je(Zt-Ke*n))/3,v=1-(p+u)):(n-=2/3,u=(1-l)/3,v=(1+l*Je(Ke*n)/Je(Zt-Ke*n))/3,p=1-(u+v)),p=zt(c*p*3),u=zt(c*u*3),v=zt(c*v*3),[p*255,u*255,v*255,e.length>3?e[3]:1]},pi=hi,di=_.unpack,vi=_.type,gi=ne,Vr=A,Wr=O,mi=ci;Vr.prototype.hsi=function(){return mi(this._rgb)},gi.hsi=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Vr,[null].concat(e,["hsi"])))},Wr.format.hsi=pi,Wr.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=di(e,"hsi"),vi(e)==="array"&&e.length===3)return"hsi"}});var _i=_.unpack,bi=_.type,yi=ne,Xr=A,Yr=O,Li=wr;Xr.prototype.hsl=function(){return Li(this._rgb)},yi.hsl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Xr,[null].concat(e,["hsl"])))},Yr.format.hsl=Mr,Yr.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=_i(e,"hsl"),bi(e)==="array"&&e.length===3)return"hsl"}});var Ci=_.unpack,ki=Math.min,wi=Math.max,Mi=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=Ci(e,"rgb");var n=e[0],l=e[1],c=e[2],p=ki(n,l,c),u=wi(n,l,c),v=u-p,g,k,M;return M=u/255,u===0?(g=Number.NaN,k=0):(k=v/u,n===u&&(g=(l-c)/v),l===u&&(g=2+(c-n)/v),c===u&&(g=4+(n-l)/v),g*=60,g<0&&(g+=360)),[g,k,M]},$i=Mi,Si=_.unpack,xi=Math.floor,Pi=function(){for(var e,r,n,l,c,p,u=[],v=arguments.length;v--;)u[v]=arguments[v];u=Si(u,"hsv");var g=u[0],k=u[1],M=u[2],T,$,D;if(M*=255,k===0)T=$=D=M;else{g===360&&(g=0),g>360&&(g-=360),g<0&&(g+=360),g/=60;var E=xi(g),U=g-E,Z=M*(1-k),q=M*(1-k*U),K=M*(1-k*(1-U));switch(E){case 0:e=[M,K,Z],T=e[0],$=e[1],D=e[2];break;case 1:r=[q,M,Z],T=r[0],$=r[1],D=r[2];break;case 2:n=[Z,M,K],T=n[0],$=n[1],D=n[2];break;case 3:l=[Z,q,M],T=l[0],$=l[1],D=l[2];break;case 4:c=[K,Z,M],T=c[0],$=c[1],D=c[2];break;case 5:p=[M,Z,q],T=p[0],$=p[1],D=p[2];break}}return[T,$,D,u.length>3?u[3]:1]},Ii=Pi,Ti=_.unpack,Oi=_.type,Ni=ne,Kr=A,Jr=O,Ei=$i;Kr.prototype.hsv=function(){return Ei(this._rgb)},Ni.hsv=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Kr,[null].concat(e,["hsv"])))},Jr.format.hsv=Ii,Jr.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=Ti(e,"hsv"),Oi(e)==="array"&&e.length===3)return"hsv"}});var St={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Qe=St,Di=_.unpack,Qr=Math.pow,Gi=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Di(e,"rgb"),l=n[0],c=n[1],p=n[2],u=Fi(l,c,p),v=u[0],g=u[1],k=u[2],M=116*g-16;return[M<0?0:M,500*(v-g),200*(g-k)]},Ht=function(e){return(e/=255)<=.04045?e/12.92:Qr((e+.055)/1.055,2.4)},jt=function(e){return e>Qe.t3?Qr(e,1/3):e/Qe.t2+Qe.t0},Fi=function(e,r,n){e=Ht(e),r=Ht(r),n=Ht(n);var l=jt((.4124564*e+.3575761*r+.1804375*n)/Qe.Xn),c=jt((.2126729*e+.7151522*r+.072175*n)/Qe.Yn),p=jt((.0193339*e+.119192*r+.9503041*n)/Qe.Zn);return[l,c,p]},en=Gi,et=St,Ai=_.unpack,Bi=Math.pow,Ui=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=Ai(e,"lab");var n=e[0],l=e[1],c=e[2],p,u,v,g,k,M;return u=(n+16)/116,p=isNaN(l)?u:u+l/500,v=isNaN(c)?u:u-c/200,u=et.Yn*Vt(u),p=et.Xn*Vt(p),v=et.Zn*Vt(v),g=qt(3.2404542*p-1.5371385*u-.4985314*v),k=qt(-.969266*p+1.8760108*u+.041556*v),M=qt(.0556434*p-.2040259*u+1.0572252*v),[g,k,M,e.length>3?e[3]:1]},qt=function(e){return 255*(e<=.00304?12.92*e:1.055*Bi(e,1/2.4)-.055)},Vt=function(e){return e>et.t1?e*e*e:et.t2*(e-et.t0)},tn=Ui,Ri=_.unpack,zi=_.type,Zi=ne,rn=A,nn=O,Hi=en;rn.prototype.lab=function(){return Hi(this._rgb)},Zi.lab=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(rn,[null].concat(e,["lab"])))},nn.format.lab=tn,nn.autodetect.push({p:2,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=Ri(e,"lab"),zi(e)==="array"&&e.length===3)return"lab"}});var ji=_.unpack,qi=_.RAD2DEG,Vi=Math.sqrt,Wi=Math.atan2,Xi=Math.round,Yi=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=ji(e,"lab"),l=n[0],c=n[1],p=n[2],u=Vi(c*c+p*p),v=(Wi(p,c)*qi+360)%360;return Xi(u*1e4)===0&&(v=Number.NaN),[l,u,v]},an=Yi,Ki=_.unpack,Ji=en,Qi=an,eo=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Ki(e,"rgb"),l=n[0],c=n[1],p=n[2],u=Ji(l,c,p),v=u[0],g=u[1],k=u[2];return Qi(v,g,k)},to=eo,ro=_.unpack,no=_.DEG2RAD,ao=Math.sin,io=Math.cos,oo=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=ro(e,"lch"),l=n[0],c=n[1],p=n[2];return isNaN(p)&&(p=0),p=p*no,[l,io(p)*c,ao(p)*c]},on=oo,so=_.unpack,lo=on,uo=tn,co=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=so(e,"lch");var n=e[0],l=e[1],c=e[2],p=lo(n,l,c),u=p[0],v=p[1],g=p[2],k=uo(u,v,g),M=k[0],T=k[1],$=k[2];return[M,T,$,e.length>3?e[3]:1]},sn=co,fo=_.unpack,ho=sn,po=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=fo(e,"hcl").reverse();return ho.apply(void 0,n)},vo=po,go=_.unpack,mo=_.type,ln=ne,xt=A,Wt=O,un=to;xt.prototype.lch=function(){return un(this._rgb)},xt.prototype.hcl=function(){return un(this._rgb).reverse()},ln.lch=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(xt,[null].concat(e,["lch"])))},ln.hcl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(xt,[null].concat(e,["hcl"])))},Wt.format.lch=sn,Wt.format.hcl=vo,["lch","hcl"].forEach(function(e){return Wt.autodetect.push({p:2,test:function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(r=go(r,e),mo(r)==="array"&&r.length===3)return e}})});var _o={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},cn=_o,bo=A,fn=O,yo=_.type,pt=cn,Lo=Zr,Co=zr;bo.prototype.name=function(){for(var e=Co(this._rgb,"rgb"),r=0,n=Object.keys(pt);r<n.length;r+=1){var l=n[r];if(pt[l]===e)return l.toLowerCase()}return e},fn.format.named=function(e){if(e=e.toLowerCase(),pt[e])return Lo(pt[e]);throw new Error("unknown color name: "+e)},fn.autodetect.push({p:5,test:function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];if(!r.length&&yo(e)==="string"&&pt[e.toLowerCase()])return"named"}});var ko=_.unpack,wo=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=ko(e,"rgb"),l=n[0],c=n[1],p=n[2];return(l<<16)+(c<<8)+p},Mo=wo,$o=_.type,So=function(e){if($o(e)=="number"&&e>=0&&e<=16777215){var r=e>>16,n=e>>8&255,l=e&255;return[r,n,l,1]}throw new Error("unknown num color: "+e)},xo=So,Po=ne,hn=A,pn=O,Io=_.type,To=Mo;hn.prototype.num=function(){return To(this._rgb)},Po.num=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(hn,[null].concat(e,["num"])))},pn.format.num=xo,pn.autodetect.push({p:5,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e.length===1&&Io(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var Oo=ne,Xt=A,dn=O,vn=_.unpack,gn=_.type,mn=Math.round;Xt.prototype.rgb=function(e){return e===void 0&&(e=!0),e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(mn)},Xt.prototype.rgba=function(e){return e===void 0&&(e=!0),this._rgb.slice(0,4).map(function(r,n){return n<3?e===!1?r:mn(r):r})},Oo.rgb=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Xt,[null].concat(e,["rgb"])))},dn.format.rgb=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=vn(e,"rgba");return n[3]===void 0&&(n[3]=1),n},dn.autodetect.push({p:3,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=vn(e,"rgba"),gn(e)==="array"&&(e.length===3||e.length===4&&gn(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var Pt=Math.log,No=function(e){var r=e/100,n,l,c;return r<66?(n=255,l=r<6?0:-155.25485562709179-.44596950469579133*(l=r-2)+104.49216199393888*Pt(l),c=r<20?0:-254.76935184120902+.8274096064007395*(c=r-10)+115.67994401066147*Pt(c)):(n=351.97690566805693+.114206453784165*(n=r-55)-40.25366309332127*Pt(n),l=325.4494125711974+.07943456536662342*(l=r-50)-28.0852963507957*Pt(l),c=255),[n,l,c,1]},_n=No,Eo=_n,Do=_.unpack,Go=Math.round,Fo=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var n=Do(e,"rgb"),l=n[0],c=n[2],p=1e3,u=4e4,v=.4,g;u-p>v;){g=(u+p)*.5;var k=Eo(g);k[2]/k[0]>=c/l?u=g:p=g}return Go(g)},Ao=Fo,Yt=ne,It=A,Kt=O,Bo=Ao;It.prototype.temp=It.prototype.kelvin=It.prototype.temperature=function(){return Bo(this._rgb)},Yt.temp=Yt.kelvin=Yt.temperature=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(It,[null].concat(e,["temp"])))},Kt.format.temp=Kt.format.kelvin=Kt.format.temperature=_n;var Uo=_.unpack,Jt=Math.cbrt,Ro=Math.pow,zo=Math.sign,Zo=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Uo(e,"rgb"),l=n[0],c=n[1],p=n[2],u=[Qt(l/255),Qt(c/255),Qt(p/255)],v=u[0],g=u[1],k=u[2],M=Jt(.4122214708*v+.5363325363*g+.0514459929*k),T=Jt(.2119034982*v+.6806995451*g+.1073969566*k),$=Jt(.0883024619*v+.2817188376*g+.6299787005*k);return[.2104542553*M+.793617785*T-.0040720468*$,1.9779984951*M-2.428592205*T+.4505937099*$,.0259040371*M+.7827717662*T-.808675766*$]},bn=Zo;function Qt(e){var r=Math.abs(e);return r<.04045?e/12.92:(zo(e)||1)*Ro((r+.055)/1.055,2.4)}var Ho=_.unpack,Tt=Math.pow,jo=Math.sign,qo=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=Ho(e,"lab");var n=e[0],l=e[1],c=e[2],p=Tt(n+.3963377774*l+.2158037573*c,3),u=Tt(n-.1055613458*l-.0638541728*c,3),v=Tt(n-.0894841775*l-1.291485548*c,3);return[255*er(4.0767416621*p-3.3077115913*u+.2309699292*v),255*er(-1.2684380046*p+2.6097574011*u-.3413193965*v),255*er(-.0041960863*p-.7034186147*u+1.707614701*v),e.length>3?e[3]:1]},yn=qo;function er(e){var r=Math.abs(e);return r>.0031308?(jo(e)||1)*(1.055*Tt(r,1/2.4)-.055):e*12.92}var Vo=_.unpack,Wo=_.type,Xo=ne,Ln=A,Cn=O,Yo=bn;Ln.prototype.oklab=function(){return Yo(this._rgb)},Xo.oklab=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(Ln,[null].concat(e,["oklab"])))},Cn.format.oklab=yn,Cn.autodetect.push({p:3,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=Vo(e,"oklab"),Wo(e)==="array"&&e.length===3)return"oklab"}});var Ko=_.unpack,Jo=bn,Qo=an,es=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var n=Ko(e,"rgb"),l=n[0],c=n[1],p=n[2],u=Jo(l,c,p),v=u[0],g=u[1],k=u[2];return Qo(v,g,k)},ts=es,rs=_.unpack,ns=on,as=yn,is=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];e=rs(e,"lch");var n=e[0],l=e[1],c=e[2],p=ns(n,l,c),u=p[0],v=p[1],g=p[2],k=as(u,v,g),M=k[0],T=k[1],$=k[2];return[M,T,$,e.length>3?e[3]:1]},os=is,ss=_.unpack,ls=_.type,us=ne,kn=A,wn=O,cs=ts;kn.prototype.oklch=function(){return cs(this._rgb)},us.oklch=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return new(Function.prototype.bind.apply(kn,[null].concat(e,["oklch"])))},wn.format.oklch=os,wn.autodetect.push({p:3,test:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(e=ss(e,"oklch"),ls(e)==="array"&&e.length===3)return"oklch"}});var Mn=A,fs=_.type;Mn.prototype.alpha=function(e,r){return r===void 0&&(r=!1),e!==void 0&&fs(e)==="number"?r?(this._rgb[3]=e,this):new Mn([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};var hs=A;hs.prototype.clipped=function(){return this._rgb._clipped||!1};var ze=A,ps=St;ze.prototype.darken=function(e){e===void 0&&(e=1);var r=this,n=r.lab();return n[0]-=ps.Kn*e,new ze(n,"lab").alpha(r.alpha(),!0)},ze.prototype.brighten=function(e){return e===void 0&&(e=1),this.darken(-e)},ze.prototype.darker=ze.prototype.darken,ze.prototype.brighter=ze.prototype.brighten;var ds=A;ds.prototype.get=function(e){var r=e.split("."),n=r[0],l=r[1],c=this[n]();if(l){var p=n.indexOf(l)-(n.substr(0,2)==="ok"?2:0);if(p>-1)return c[p];throw new Error("unknown channel "+l+" in mode "+n)}else return c};var tt=A,vs=_.type,gs=Math.pow,ms=1e-7,_s=20;tt.prototype.luminance=function(e){if(e!==void 0&&vs(e)==="number"){if(e===0)return new tt([0,0,0,this._rgb[3]],"rgb");if(e===1)return new tt([255,255,255,this._rgb[3]],"rgb");var r=this.luminance(),n="rgb",l=_s,c=function(u,v){var g=u.interpolate(v,.5,n),k=g.luminance();return Math.abs(e-k)<ms||!l--?g:k>e?c(u,g):c(g,v)},p=(r>e?c(new tt([0,0,0]),this):c(this,new tt([255,255,255]))).rgb();return new tt(p.concat([this._rgb[3]]))}return bs.apply(void 0,this._rgb.slice(0,3))};var bs=function(e,r,n){return e=tr(e),r=tr(r),n=tr(n),.2126*e+.7152*r+.0722*n},tr=function(e){return e/=255,e<=.03928?e/12.92:gs((e+.055)/1.055,2.4)},Le={},$n=A,Sn=_.type,Ot=Le,xn=function(e,r,n){n===void 0&&(n=.5);for(var l=[],c=arguments.length-3;c-- >0;)l[c]=arguments[c+3];var p=l[0]||"lrgb";if(!Ot[p]&&!l.length&&(p=Object.keys(Ot)[0]),!Ot[p])throw new Error("interpolation mode "+p+" is not defined");return Sn(e)!=="object"&&(e=new $n(e)),Sn(r)!=="object"&&(r=new $n(r)),Ot[p](e,r,n).alpha(e.alpha()+n*(r.alpha()-e.alpha()))},Pn=A,ys=xn;Pn.prototype.mix=Pn.prototype.interpolate=function(e,r){r===void 0&&(r=.5);for(var n=[],l=arguments.length-2;l-- >0;)n[l]=arguments[l+2];return ys.apply(void 0,[this,e,r].concat(n))};var In=A;In.prototype.premultiply=function(e){e===void 0&&(e=!1);var r=this._rgb,n=r[3];return e?(this._rgb=[r[0]*n,r[1]*n,r[2]*n,n],this):new In([r[0]*n,r[1]*n,r[2]*n,n],"rgb")};var rr=A,Ls=St;rr.prototype.saturate=function(e){e===void 0&&(e=1);var r=this,n=r.lch();return n[1]+=Ls.Kn*e,n[1]<0&&(n[1]=0),new rr(n,"lch").alpha(r.alpha(),!0)},rr.prototype.desaturate=function(e){return e===void 0&&(e=1),this.saturate(-e)};var Tn=A,On=_.type;Tn.prototype.set=function(e,r,n){n===void 0&&(n=!1);var l=e.split("."),c=l[0],p=l[1],u=this[c]();if(p){var v=c.indexOf(p)-(c.substr(0,2)==="ok"?2:0);if(v>-1){if(On(r)=="string")switch(r.charAt(0)){case"+":u[v]+=+r;break;case"-":u[v]+=+r;break;case"*":u[v]*=+r.substr(1);break;case"/":u[v]/=+r.substr(1);break;default:u[v]=+r}else if(On(r)==="number")u[v]=r;else throw new Error("unsupported value for Color.set");var g=new Tn(u,c);return n?(this._rgb=g._rgb,this):g}throw new Error("unknown channel "+p+" in mode "+c)}else return u};var Cs=A,ks=function(e,r,n){var l=e._rgb,c=r._rgb;return new Cs(l[0]+n*(c[0]-l[0]),l[1]+n*(c[1]-l[1]),l[2]+n*(c[2]-l[2]),"rgb")};Le.rgb=ks;var ws=A,nr=Math.sqrt,rt=Math.pow,Ms=function(e,r,n){var l=e._rgb,c=l[0],p=l[1],u=l[2],v=r._rgb,g=v[0],k=v[1],M=v[2];return new ws(nr(rt(c,2)*(1-n)+rt(g,2)*n),nr(rt(p,2)*(1-n)+rt(k,2)*n),nr(rt(u,2)*(1-n)+rt(M,2)*n),"rgb")};Le.lrgb=Ms;var $s=A,Ss=function(e,r,n){var l=e.lab(),c=r.lab();return new $s(l[0]+n*(c[0]-l[0]),l[1]+n*(c[1]-l[1]),l[2]+n*(c[2]-l[2]),"lab")};Le.lab=Ss;var Nn=A,nt=function(e,r,n,l){var c,p,u,v;l==="hsl"?(u=e.hsl(),v=r.hsl()):l==="hsv"?(u=e.hsv(),v=r.hsv()):l==="hcg"?(u=e.hcg(),v=r.hcg()):l==="hsi"?(u=e.hsi(),v=r.hsi()):l==="lch"||l==="hcl"?(l="hcl",u=e.hcl(),v=r.hcl()):l==="oklch"&&(u=e.oklch().reverse(),v=r.oklch().reverse());var g,k,M,T,$,D;(l.substr(0,1)==="h"||l==="oklch")&&(c=u,g=c[0],M=c[1],$=c[2],p=v,k=p[0],T=p[1],D=p[2]);var E,U,Z,q;return!isNaN(g)&&!isNaN(k)?(k>g&&k-g>180?q=k-(g+360):k<g&&g-k>180?q=k+360-g:q=k-g,U=g+n*q):isNaN(g)?isNaN(k)?U=Number.NaN:(U=k,($==1||$==0)&&l!="hsv"&&(E=T)):(U=g,(D==1||D==0)&&l!="hsv"&&(E=M)),E===void 0&&(E=M+n*(T-M)),Z=$+n*(D-$),l==="oklch"?new Nn([Z,E,U],l):new Nn([U,E,Z],l)},xs=nt,En=function(e,r,n){return xs(e,r,n,"lch")};Le.lch=En,Le.hcl=En;var Ps=A,Is=function(e,r,n){var l=e.num(),c=r.num();return new Ps(l+n*(c-l),"num")};Le.num=Is;var Ts=nt,Os=function(e,r,n){return Ts(e,r,n,"hcg")};Le.hcg=Os;var Ns=nt,Es=function(e,r,n){return Ns(e,r,n,"hsi")};Le.hsi=Es;var Ds=nt,Gs=function(e,r,n){return Ds(e,r,n,"hsl")};Le.hsl=Gs;var Fs=nt,As=function(e,r,n){return Fs(e,r,n,"hsv")};Le.hsv=As;var Bs=A,Us=function(e,r,n){var l=e.oklab(),c=r.oklab();return new Bs(l[0]+n*(c[0]-l[0]),l[1]+n*(c[1]-l[1]),l[2]+n*(c[2]-l[2]),"oklab")};Le.oklab=Us;var Rs=nt,zs=function(e,r,n){return Rs(e,r,n,"oklch")};Le.oklch=zs;var ar=A,Zs=_.clip_rgb,ir=Math.pow,or=Math.sqrt,sr=Math.PI,Dn=Math.cos,Gn=Math.sin,Hs=Math.atan2,js=function(e,r,n){r===void 0&&(r="lrgb"),n===void 0&&(n=null);var l=e.length;n||(n=Array.from(new Array(l)).map(function(){return 1}));var c=l/n.reduce(function(U,Z){return U+Z});if(n.forEach(function(U,Z){n[Z]*=c}),e=e.map(function(U){return new ar(U)}),r==="lrgb")return qs(e,n);for(var p=e.shift(),u=p.get(r),v=[],g=0,k=0,M=0;M<u.length;M++)if(u[M]=(u[M]||0)*n[0],v.push(isNaN(u[M])?0:n[0]),r.charAt(M)==="h"&&!isNaN(u[M])){var T=u[M]/180*sr;g+=Dn(T)*n[0],k+=Gn(T)*n[0]}var $=p.alpha()*n[0];e.forEach(function(U,Z){var q=U.get(r);$+=U.alpha()*n[Z+1];for(var K=0;K<u.length;K++)if(!isNaN(q[K]))if(v[K]+=n[Z+1],r.charAt(K)==="h"){var de=q[K]/180*sr;g+=Dn(de)*n[Z+1],k+=Gn(de)*n[Z+1]}else u[K]+=q[K]*n[Z+1]});for(var D=0;D<u.length;D++)if(r.charAt(D)==="h"){for(var E=Hs(k/v[D],g/v[D])/sr*180;E<0;)E+=360;for(;E>=360;)E-=360;u[D]=E}else u[D]=u[D]/v[D];return $/=l,new ar(u,r).alpha($>.99999?1:$,!0)},qs=function(e,r){for(var n=e.length,l=[0,0,0,0],c=0;c<e.length;c++){var p=e[c],u=r[c]/n,v=p._rgb;l[0]+=ir(v[0],2)*u,l[1]+=ir(v[1],2)*u,l[2]+=ir(v[2],2)*u,l[3]+=v[3]*u}return l[0]=or(l[0]),l[1]=or(l[1]),l[2]=or(l[2]),l[3]>.9999999&&(l[3]=1),new ar(Zs(l))},ke=ne,at=_.type,Vs=Math.pow,lr=function(e){var r="rgb",n=ke("#ccc"),l=0,c=[0,1],p=[],u=[0,0],v=!1,g=[],k=!1,M=0,T=1,$=!1,D={},E=!0,U=1,Z=function(S){if(S=S||["#fff","#000"],S&&at(S)==="string"&&ke.brewer&&ke.brewer[S.toLowerCase()]&&(S=ke.brewer[S.toLowerCase()]),at(S)==="array"){S.length===1&&(S=[S[0],S[0]]),S=S.slice(0);for(var F=0;F<S.length;F++)S[F]=ke(S[F]);p.length=0;for(var z=0;z<S.length;z++)p.push(z/(S.length-1))}return _e(),g=S},q=function(S){if(v!=null){for(var F=v.length-1,z=0;z<F&&S>=v[z];)z++;return z-1}return 0},K=function(S){return S},de=function(S){return S},pe=function(S,F){var z,R;if(F==null&&(F=!1),isNaN(S)||S===null)return n;if(F)R=S;else if(v&&v.length>2){var ve=q(S);R=ve/(v.length-2)}else T!==M?R=(S-M)/(T-M):R=1;R=de(R),F||(R=K(R)),U!==1&&(R=Vs(R,U)),R=u[0]+R*(1-u[0]-u[1]),R=Math.min(1,Math.max(0,R));var ae=Math.floor(R*1e4);if(E&&D[ae])z=D[ae];else{if(at(g)==="array")for(var V=0;V<p.length;V++){var J=p[V];if(R<=J){z=g[V];break}if(R>=J&&V===p.length-1){z=g[V];break}if(R>J&&R<p[V+1]){R=(R-J)/(p[V+1]-J),z=ke.interpolate(g[V],g[V+1],R,r);break}}else at(g)==="function"&&(z=g(R));E&&(D[ae]=z)}return z},_e=function(){return D={}};Z(e);var H=function(S){var F=ke(pe(S));return k&&F[k]?F[k]():F};return H.classes=function(S){if(S!=null){if(at(S)==="array")v=S,c=[S[0],S[S.length-1]];else{var F=ke.analyze(c);S===0?v=[F.min,F.max]:v=ke.limits(F,"e",S)}return H}return v},H.domain=function(S){if(!arguments.length)return c;M=S[0],T=S[S.length-1],p=[];var F=g.length;if(S.length===F&&M!==T)for(var z=0,R=Array.from(S);z<R.length;z+=1){var ve=R[z];p.push((ve-M)/(T-M))}else{for(var ae=0;ae<F;ae++)p.push(ae/(F-1));if(S.length>2){var V=S.map(function(Q,te){return te/(S.length-1)}),J=S.map(function(Q){return(Q-M)/(T-M)});J.every(function(Q,te){return V[te]===Q})||(de=function(Q){if(Q<=0||Q>=1)return Q;for(var te=0;Q>=J[te+1];)te++;var Me=(Q-J[te])/(J[te+1]-J[te]),Ge=V[te]+Me*(V[te+1]-V[te]);return Ge})}}return c=[M,T],H},H.mode=function(S){return arguments.length?(r=S,_e(),H):r},H.range=function(S,F){return Z(S),H},H.out=function(S){return k=S,H},H.spread=function(S){return arguments.length?(l=S,H):l},H.correctLightness=function(S){return S==null&&(S=!0),$=S,_e(),$?K=function(F){for(var z=pe(0,!0).lab()[0],R=pe(1,!0).lab()[0],ve=z>R,ae=pe(F,!0).lab()[0],V=z+(R-z)*F,J=ae-V,Q=0,te=1,Me=20;Math.abs(J)>.01&&Me-- >0;)(function(){return ve&&(J*=-1),J<0?(Q=F,F+=(te-F)*.5):(te=F,F+=(Q-F)*.5),ae=pe(F,!0).lab()[0],J=ae-V})();return F}:K=function(F){return F},H},H.padding=function(S){return S!=null?(at(S)==="number"&&(S=[S,S]),u=S,H):u},H.colors=function(S,F){arguments.length<2&&(F="hex");var z=[];if(arguments.length===0)z=g.slice(0);else if(S===1)z=[H(.5)];else if(S>1){var R=c[0],ve=c[1]-R;z=Ws(0,S,!1).map(function(te){return H(R+te/(S-1)*ve)})}else{e=[];var ae=[];if(v&&v.length>2)for(var V=1,J=v.length,Q=1<=J;Q?V<J:V>J;Q?V++:V--)ae.push((v[V-1]+v[V])*.5);else ae=c;z=ae.map(function(te){return H(te)})}return ke[F]&&(z=z.map(function(te){return te[F]()})),z},H.cache=function(S){return S!=null?(E=S,H):E},H.gamma=function(S){return S!=null?(U=S,H):U},H.nodata=function(S){return S!=null?(n=ke(S),H):n},H};function Ws(e,r,n){for(var l=[],c=e<r,p=n?c?r+1:r-1:r,u=e;c?u<p:u>p;c?u++:u--)l.push(u);return l}var dt=A,Xs=lr,Ys=function(e){for(var r=[1,1],n=1;n<e;n++){for(var l=[1],c=1;c<=r.length;c++)l[c]=(r[c]||0)+r[c-1];r=l}return r},Ks=function(e){var r,n,l,c,p,u,v;if(e=e.map(function($){return new dt($)}),e.length===2)r=e.map(function($){return $.lab()}),p=r[0],u=r[1],c=function($){var D=[0,1,2].map(function(E){return p[E]+$*(u[E]-p[E])});return new dt(D,"lab")};else if(e.length===3)n=e.map(function($){return $.lab()}),p=n[0],u=n[1],v=n[2],c=function($){var D=[0,1,2].map(function(E){return(1-$)*(1-$)*p[E]+2*(1-$)*$*u[E]+$*$*v[E]});return new dt(D,"lab")};else if(e.length===4){var g;l=e.map(function($){return $.lab()}),p=l[0],u=l[1],v=l[2],g=l[3],c=function($){var D=[0,1,2].map(function(E){return(1-$)*(1-$)*(1-$)*p[E]+3*(1-$)*(1-$)*$*u[E]+3*(1-$)*$*$*v[E]+$*$*$*g[E]});return new dt(D,"lab")}}else if(e.length>=5){var k,M,T;k=e.map(function($){return $.lab()}),T=e.length-1,M=Ys(T),c=function($){var D=1-$,E=[0,1,2].map(function(U){return k.reduce(function(Z,q,K){return Z+M[K]*Math.pow(D,T-K)*Math.pow($,K)*q[U]},0)});return new dt(E,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return c},Js=function(e){var r=Ks(e);return r.scale=function(){return Xs(r)},r},ur=ne,we=function(e,r,n){if(!we[n])throw new Error("unknown blend mode "+n);return we[n](e,r)},Ee=function(e){return function(r,n){var l=ur(n).rgb(),c=ur(r).rgb();return ur.rgb(e(l,c))}},De=function(e){return function(r,n){var l=[];return l[0]=e(r[0],n[0]),l[1]=e(r[1],n[1]),l[2]=e(r[2],n[2]),l}},Qs=function(e){return e},el=function(e,r){return e*r/255},tl=function(e,r){return e>r?r:e},rl=function(e,r){return e>r?e:r},nl=function(e,r){return 255*(1-(1-e/255)*(1-r/255))},al=function(e,r){return r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255))},il=function(e,r){return 255*(1-(1-r/255)/(e/255))},ol=function(e,r){return e===255?255:(e=255*(r/255)/(1-e/255),e>255?255:e)};we.normal=Ee(De(Qs)),we.multiply=Ee(De(el)),we.screen=Ee(De(nl)),we.overlay=Ee(De(al)),we.darken=Ee(De(tl)),we.lighten=Ee(De(rl)),we.dodge=Ee(De(ol)),we.burn=Ee(De(il));for(var sl=we,cr=_.type,ll=_.clip_rgb,ul=_.TWOPI,cl=Math.pow,fl=Math.sin,hl=Math.cos,Fn=ne,pl=function(e,r,n,l,c){e===void 0&&(e=300),r===void 0&&(r=-1.5),n===void 0&&(n=1),l===void 0&&(l=1),c===void 0&&(c=[0,1]);var p=0,u;cr(c)==="array"?u=c[1]-c[0]:(u=0,c=[c,c]);var v=function(g){var k=ul*((e+120)/360+r*g),M=cl(c[0]+u*g,l),T=p!==0?n[0]+g*p:n,$=T*M*(1-M)/2,D=hl(k),E=fl(k),U=M+$*(-.14861*D+1.78277*E),Z=M+$*(-.29227*D-.90649*E),q=M+$*(1.97294*D);return Fn(ll([U*255,Z*255,q*255,1]))};return v.start=function(g){return g==null?e:(e=g,v)},v.rotations=function(g){return g==null?r:(r=g,v)},v.gamma=function(g){return g==null?l:(l=g,v)},v.hue=function(g){return g==null?n:(n=g,cr(n)==="array"?(p=n[1]-n[0],p===0&&(n=n[1])):p=0,v)},v.lightness=function(g){return g==null?c:(cr(g)==="array"?(c=g,u=g[1]-g[0]):(c=[g,g],u=0),v)},v.scale=function(){return Fn.scale(v)},v.hue(n),v},dl=A,vl="0123456789abcdef",gl=Math.floor,ml=Math.random,_l=function(){for(var e="#",r=0;r<6;r++)e+=vl.charAt(gl(ml()*16));return new dl(e,"hex")},fr=f,An=Math.log,bl=Math.pow,yl=Math.floor,Ll=Math.abs,Bn=function(e,r){r===void 0&&(r=null);var n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return fr(e)==="object"&&(e=Object.values(e)),e.forEach(function(l){r&&fr(l)==="object"&&(l=l[r]),l!=null&&!isNaN(l)&&(n.values.push(l),n.sum+=l,l<n.min&&(n.min=l),l>n.max&&(n.max=l),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(l,c){return Un(n,l,c)},n},Un=function(e,r,n){r===void 0&&(r="equal"),n===void 0&&(n=7),fr(e)=="array"&&(e=Bn(e));var l=e.min,c=e.max,p=e.values.sort(function(pr,dr){return pr-dr});if(n===1)return[l,c];var u=[];if(r.substr(0,1)==="c"&&(u.push(l),u.push(c)),r.substr(0,1)==="e"){u.push(l);for(var v=1;v<n;v++)u.push(l+v/n*(c-l));u.push(c)}else if(r.substr(0,1)==="l"){if(l<=0)throw new Error("Logarithmic scales are only possible for values > 0");var g=Math.LOG10E*An(l),k=Math.LOG10E*An(c);u.push(l);for(var M=1;M<n;M++)u.push(bl(10,g+M/n*(k-g)));u.push(c)}else if(r.substr(0,1)==="q"){u.push(l);for(var T=1;T<n;T++){var $=(p.length-1)*T/n,D=yl($);if(D===$)u.push(p[D]);else{var E=$-D;u.push(p[D]*(1-E)+p[D+1]*E)}}u.push(c)}else if(r.substr(0,1)==="k"){var U,Z=p.length,q=new Array(Z),K=new Array(n),de=!0,pe=0,_e=null;_e=[],_e.push(l);for(var H=1;H<n;H++)_e.push(l+H/n*(c-l));for(_e.push(c);de;){for(var S=0;S<n;S++)K[S]=0;for(var F=0;F<Z;F++)for(var z=p[F],R=Number.MAX_VALUE,ve=void 0,ae=0;ae<n;ae++){var V=Ll(_e[ae]-z);V<R&&(R=V,ve=ae),K[ve]++,q[F]=ve}for(var J=new Array(n),Q=0;Q<n;Q++)J[Q]=null;for(var te=0;te<Z;te++)U=q[te],J[U]===null?J[U]=p[te]:J[U]+=p[te];for(var Me=0;Me<n;Me++)J[Me]*=1/K[Me];de=!1;for(var Ge=0;Ge<n;Ge++)if(J[Ge]!==_e[Ge]){de=!0;break}_e=J,pe++,pe>200&&(de=!1)}for(var Fe={},it=0;it<n;it++)Fe[it]=[];for(var ot=0;ot<Z;ot++)U=q[ot],Fe[U].push(p[ot]);for(var Ie=[],Ze=0;Ze<n;Ze++)Ie.push(Fe[Ze][0]),Ie.push(Fe[Ze][Fe[Ze].length-1]);Ie=Ie.sort(function(pr,dr){return pr-dr}),u.push(Ie[0]);for(var vt=1;vt<Ie.length;vt+=2){var He=Ie[vt];!isNaN(He)&&u.indexOf(He)===-1&&u.push(He)}}return u},Rn={analyze:Bn,limits:Un},zn=A,Cl=function(e,r){e=new zn(e),r=new zn(r);var n=e.luminance(),l=r.luminance();return n>l?(n+.05)/(l+.05):(l+.05)/(n+.05)},Zn=A,Pe=Math.sqrt,ce=Math.pow,kl=Math.min,wl=Math.max,Hn=Math.atan2,jn=Math.abs,Nt=Math.cos,qn=Math.sin,Ml=Math.exp,Vn=Math.PI,$l=function(e,r,n,l,c){n===void 0&&(n=1),l===void 0&&(l=1),c===void 0&&(c=1);var p=function(He){return 360*He/(2*Vn)},u=function(He){return 2*Vn*He/360};e=new Zn(e),r=new Zn(r);var v=Array.from(e.lab()),g=v[0],k=v[1],M=v[2],T=Array.from(r.lab()),$=T[0],D=T[1],E=T[2],U=(g+$)/2,Z=Pe(ce(k,2)+ce(M,2)),q=Pe(ce(D,2)+ce(E,2)),K=(Z+q)/2,de=.5*(1-Pe(ce(K,7)/(ce(K,7)+ce(25,7)))),pe=k*(1+de),_e=D*(1+de),H=Pe(ce(pe,2)+ce(M,2)),S=Pe(ce(_e,2)+ce(E,2)),F=(H+S)/2,z=p(Hn(M,pe)),R=p(Hn(E,_e)),ve=z>=0?z:z+360,ae=R>=0?R:R+360,V=jn(ve-ae)>180?(ve+ae+360)/2:(ve+ae)/2,J=1-.17*Nt(u(V-30))+.24*Nt(u(2*V))+.32*Nt(u(3*V+6))-.2*Nt(u(4*V-63)),Q=ae-ve;Q=jn(Q)<=180?Q:ae<=ve?Q+360:Q-360,Q=2*Pe(H*S)*qn(u(Q)/2);var te=$-g,Me=S-H,Ge=1+.015*ce(U-50,2)/Pe(20+ce(U-50,2)),Fe=1+.045*F,it=1+.015*F*J,ot=30*Ml(-ce((V-275)/25,2)),Ie=2*Pe(ce(F,7)/(ce(F,7)+ce(25,7))),Ze=-Ie*qn(2*u(ot)),vt=Pe(ce(te/(n*Ge),2)+ce(Me/(l*Fe),2)+ce(Q/(c*it),2)+Ze*(Me/(l*Fe))*(Q/(c*it)));return wl(0,kl(100,vt))},Wn=A,Sl=function(e,r,n){n===void 0&&(n="lab"),e=new Wn(e),r=new Wn(r);var l=e.get(n),c=r.get(n),p=0;for(var u in l){var v=(l[u]||0)-(c[u]||0);p+=v*v}return Math.sqrt(p)},xl=A,Pl=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];try{return new(Function.prototype.bind.apply(xl,[null].concat(e))),!0}catch{return!1}},Xn=ne,Yn=lr,Il={cool:function(){return Yn([Xn.hsl(180,1,.9),Xn.hsl(250,.7,.4)])},hot:function(){return Yn(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Et={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},hr=0,Kn=Object.keys(Et);hr<Kn.length;hr+=1){var Jn=Kn[hr];Et[Jn.toLowerCase()]=Et[Jn]}var Tl=Et,he=ne;he.average=js,he.bezier=Js,he.blend=sl,he.cubehelix=pl,he.mix=he.interpolate=xn,he.random=_l,he.scale=lr,he.analyze=Rn.analyze,he.contrast=Cl,he.deltaE=$l,he.distance=Sl,he.limits=Rn.limits,he.valid=Pl,he.scales=Il,he.colors=cn,he.brewer=Tl;var Ol=he;return Ol})})(ca);const Tu=ca.exports,Ou=Se({data(){return{minimumPercent:wt,toggleInputUpdate:!1,value:0}},methods:{colorValue(){return Tu.scale(["#4cb31b","#ee3355"]).domain([0,100])(this.value)}}});const Nu=i=>(ct("data-v-bf54b469"),i=i(),ft(),i),Eu={class:"container"},Du=Nu(()=>I("p",null," Removes item spawns that are lower than the given percentage.",-1));function Gu(i,h,b,C,x,t){return Y(),ee(Ae,null,[I("div",Eu,[fe(I("input",{type:"range",min:"0",max:"100",onInput:h[0]||(h[0]=a=>i.minimumPercent.set(i.value)),"onUpdate:modelValue":h[1]||(h[1]=a=>i.value=a),style:El({"--color":i.colorValue()})},null,36),[[ut,i.value]]),I("span",null,$e(i.value)+"% ",1)]),Du],64)}const fa=xe(Ou,[["render",Gu],["__scopeId","data-v-bf54b469"]]),Fu=Se({data(){return{selectedItems:Ce,minimumPercent:wt,selectedMap:re,searchInput:"",matchingItems:[],data:{},items:{},searchTerms:[],lowerCaseSearchTerms:[],shake:!1,amounts:{}}},components:{PercentButton:fa},methods:{matchInputs:function(){const i=this.searchInput.toLowerCase();if(i==""){this.matchingItems=[];return}this.matchingItems=this.searchTerms.filter(function(h){if(h.toLowerCase().includes(i))return h}).sort()},setSearchItem(i){this.searchInput=i,this.matchingItems=[],this.addToSearchedList()},addToSearchedList(){const i=this.searchInput.toLowerCase();this.lowerCaseSearchTerms.includes(i)||(this.shake=!0,setTimeout(()=>{this.shake=!1},820));for(let h in this.items)if(this.items[h].name.toLowerCase()==i){Ce.add(h),this.searchInput="";break}this.matchingItems=[]},submitEnter(){this.matchingItems.length==1&&this.setSearchItem(this.matchingItems[0])},autoCompleteShower(){return document.querySelector("#search-input")===document.activeElement},reset(){this.searchInput="",this.matchingItems=[]},colourClassGiver(i){const h=this.items[i];if(!h)return"";if(h.rarity)return h.rarity.toLowerCase()},itemImage(i){let h="";for(let C in this.items)if(this.items[C].name.toLowerCase()==i.toLowerCase()){h=C;break}let b=this.items[h].icon;return h?.includes("Map01_KeyCard")?"Bright_Sands_Key_Card.png":h?.includes("Map02_KeyCard")?"Crescent_Falls_Key_Card.png":h?.includes("Map03_KeyCard")?"Tharis_Island_Key_Card.png":b.replace(" - Mk.II","").replace(" - Prototype","").replaceAll(" ","_").replaceAll("#","%23")}},async mounted(){this.data=await Ne(),this.items=this.data.descriptions;let i=[],h=[];for(let b in this.items){let C=this.items[b];i.push(C.name),h.push(C.name.toLowerCase())}this.searchTerms=i,this.lowerCaseSearchTerms=h,this.$watch("minimumPercent",()=>{this.amounts={...gr()}},{deep:!0}),this.$watch("selectedItems",()=>{this.amounts={...gr()}},{deep:!0}),this.$watch("selectedMap",()=>{this.amounts={...gr()}},{deep:!0})}});const Au=i=>(ct("data-v-6f1964f6"),i=i(),ft(),i),Bu={class:"outer-container"},Uu={id:"search",role:"search",autocomplete:"off"},Ru={class:"search-container"},zu=["onClick"],Zu=["src"],Hu={class:"item-list"},ju={class:"item-container"},qu=["onClick"],Vu=["src"],Wu={class:"small"},Xu={class:"item-container-notice"},Yu={key:0},Ku=Au(()=>I("span",null," No items are selected ",-1)),Ju=[Ku];function Qu(i,h,b,C,x,t){const a=ge("font-awesome-icon"),s=ge("PercentButton");return Y(),ee("div",Bu,[I("form",Uu,[I("div",Ru,[fe(I("input",{onInput:h[0]||(h[0]=(...o)=>i.matchInputs&&i.matchInputs(...o)),type:"text",id:"search-input",spellcheck:"false","onUpdate:modelValue":h[1]||(h[1]=o=>i.searchInput=o),class:Oe({"apply-shake":i.shake}),placeholder:"Search for item...","aria-label":"Input item you want to search",ref:"input"},null,34),[[ut,i.searchInput]]),I("button",{type:"submit",onClick:h[2]||(h[2]=Dl((...o)=>i.addToSearchedList&&i.addToSearchedList(...o),["prevent"])),"aria-label":"Submit item search"},[ie(a,{icon:"fas fa-magnifying-glass"})]),I("button",{type:"reset",onClick:h[3]||(h[3]=(...o)=>i.reset&&i.reset(...o)),"aria-label":"Clear item input"},[ie(a,{icon:"fas fa-circle-xmark"})])])]),I("div",{class:Oe(["autocomplete",{"has-items":i.matchingItems.length>0}])},[ie(Fl,{name:"list",tag:"ul"},{default:Gl(()=>[(Y(!0),ee(Ae,null,Ct(i.matchingItems,(o,f)=>(Y(),ee("li",{class:"autocomplete-item",onClick:d=>i.setSearchItem(o),key:f},[I("span",null,$e(o),1),I("img",{src:"map-images/item-images/"+i.itemImage(o).replace("_-_Mk.II","").replace(" - Prototype",""),class:"item-image"},null,8,Zu)],8,zu))),128))]),_:1})],2),ie(s),I("div",Hu,[I("div",ju,[Object.keys(i.items).length>0?(Y(!0),ee(Ae,{key:0},Ct(i.selectedItems.get(),o=>(Y(),ee("p",{onClick:f=>i.selectedItems.remove(o)},[ie(a,{icon:"fas fa-trash"}),I("span",{class:Oe(i.colourClassGiver(o))},[I("img",{src:"map-images/item-images/"+i.itemImage(i.items[o].name).replace("_-_Mk.II","").replace(" - Prototype",""),class:"item-image-list"},null,8,Vu),Al(" "+$e(i.items[o].name)+" ",1),I("span",Wu,$e(i.amounts[o]+1?"("+i.amounts[o]+")":""),1)],2)],8,qu))),256)):kt("",!0)]),I("div",Xu,[i.selectedItems.get().length==0?(Y(),ee("p",Yu,Ju)):kt("",!0)])])])}const ec=xe(Fu,[["render",Qu],["__scopeId","data-v-6f1964f6"]]),tc=Se({data(){return{selectedTier:Be}}});function rc(i,h,b,C,x,t){const a=ge("font-awesome-icon"),s=Ve("tooltip");return fe((Y(),ee("button",{onClick:h[0]||(h[0]=(...o)=>i.selectedTier.toggle&&i.selectedTier.toggle(...o)),class:"btn"},[ie(a,{icon:"fa-solid fa-ranking-star"})])),[[s,{content:" Toggle loot tiers <br>  Not available on map 3 yet",html:!0}]])}const nc=xe(tc,[["render",rc],["__scopeId","data-v-55b058c3"]]),ac=Se({data(){return{selectedItems:Ce,selectedLocations:se}},methods:{clearSearch(){Ce.clear(),se.clear(),be.clear()}}});function ic(i,h,b,C,x,t){const a=ge("font-awesome-icon"),s=Ve("tooltip");return fe((Y(),ee("button",{onClick:h[0]||(h[0]=(...o)=>i.clearSearch&&i.clearSearch(...o)),class:"btn"},[ie(a,{icon:"fa-solid fa-trash"})])),[[s,{content:"Clear your current selections",html:!0}]])}const oc=xe(ac,[["render",ic],["__scopeId","data-v-3caa54f0"]]);async function sc(){const i=new URL(document.location.toString()).searchParams;window.history.pushState({},document.title,"/map");let h=i.get("map");h&&(h=parseInt(h),(h==1||h==2||h==3)&&re.set(h)),i.get("tier")==="true"&&Be.enable();let C=i.getAll("item");if(C.length>0){Ce.clear(),se.clear();const s=(await Ne()).descriptions;let o=[];for(let f in C)for(let d in s)if(s[d].name.toLowerCase()==C[f].split("_").join(" ").toLowerCase()){o.push(d);break}o&&Ce.set(o)}let x=i.getAll("loc");if(x.length>0){se.clear();let a={};for(let o in Mt)a[Mt[o].toString()]=o;let s=[];for(let o in x){let f=x[o].split("_").join(" ");a[f]&&s.push(a[f])}s&&se.set(s)}let t=i.getAll("creature");if(t.length>0){be.clear();let a={};for(let o in qe)a[qe[o].toString()]=o;let s=[];for(let o in t){let f=t[o].split("_").join(" ");a[f]&&s.push(a[f])}s&&be.set(s)}}async function lc(){let i="";i+=`?map=${re.get()}`,Be.get()&&(i+=`&tier=${Be.get()}`);let h=await Ne();h=h.descriptions;for(let b in Ce.get())i+=`&item=${h[Ce.get()[b]].name.toString().split(" ").join("_")}`;for(let b in se.get()){let C=Mt[se.get()[b]];C=C.toString().split(" ").join("_"),i+=`&loc=${C}`}for(let b in be.get()){let C=qe[be.get()[b]];C=C.toString().split(" ").join("_"),i+=`&creature=${C}`}return i}const uc=oa(),cc=Se({methods:{async getShareLink(){navigator.clipboard.writeText(document.location+await lc()),uc.info("Coplied share link to clipboard!",{timeout:2e3})}}});function fc(i,h,b,C,x,t){const a=ge("font-awesome-icon"),s=Ve("tooltip");return fe((Y(),ee("button",{class:"btn","aria-label":"Get share link",onClick:h[0]||(h[0]=(...o)=>i.getShareLink&&i.getShareLink(...o)),ref:"shareButton"},[ie(a,{icon:"fa-solid fa-up-right-from-square"})])),[[s,{content:"Get a shareable link to <br> your current selections",html:!0}]])}const hc=xe(cc,[["render",fc],["__scopeId","data-v-63826e63"]]),ia=oa(),pc=Se({data(){return{color:{creatureColor:"#ee3355",itemColor:"#4cb31b",containerColor:"#1da7ec",specialColor:"#ff820d"},sheet:null,comment:""}},mounted(){this.sheet=document.createElement("style");const i=localStorage.getItem("markerOutlineColorNew");i&&i!="{}"&&(this.color=JSON.parse(i),this.setColor())},methods:{setColor(){this.sheet.innerHTML=`.marker-type-item {
			    -webkit-filter: 
                    drop-shadow(2px 2px 0 ${this.color.itemColor}) 
                    drop-shadow(-2px -2px 0  ${this.color.itemColor});
			    filter:
                    drop-shadow(2px 2px 0 ${this.color.itemColor})
                    drop-shadow(-2px -2px 0 ${this.color.itemColor});
		    }
            .marker-type-container {
			    -webkit-filter: 
                    drop-shadow(2px 2px 0 ${this.color.containerColor}) 
                    drop-shadow(-2px -2px 0  ${this.color.containerColor});
			    filter:
                    drop-shadow(2px 2px 0 ${this.color.containerColor})
                    drop-shadow(-2px -2px 0 ${this.color.containerColor});
		    }
            .marker-type-creature {
			    -webkit-filter: 
                    drop-shadow(2px 2px 0 ${this.color.creatureColor}) 
                    drop-shadow(-2px -2px 0  ${this.color.creatureColor});
			    filter:
                    drop-shadow(2px 2px 0 ${this.color.creatureColor})
                    drop-shadow(-2px -2px 0 ${this.color.creatureColor});
		    }
            .marker-type-special {
			    -webkit-filter: 
                    drop-shadow(2px 2px 0 ${this.color.specialColor}) 
                    drop-shadow(-2px -2px 0  ${this.color.specialColor});
			    filter:
                    drop-shadow(2px 2px 0 ${this.color.specialColor})
                    drop-shadow(-2px -2px 0 ${this.color.specialColor});
		    }`,document.body.appendChild(this.sheet)},resetColor(){this.color={creatureColor:"#ee3355",itemColor:"#4cb31b",containerColor:"#1da7ec",specialColor:"#ff820d"},this.setColor(),localStorage.setItem("markerOutlineColorNew",JSON.stringify(this.color)),ia.info("Reset all colours!",{timeout:2e3})},saveColor(){localStorage.setItem("markerOutlineColorNew",JSON.stringify(this.color)),ia.info("Saved outline colour!",{timeout:2e3})}}});const We=i=>(ct("data-v-ca3536d4"),i=i(),ft(),i),dc=We(()=>I("header",null,[I("h2",null," Outline ")],-1)),vc={class:"input-container"},gc={class:"input-wrapper"},mc=We(()=>I("span",null," Items ",-1)),_c={class:"input-wrapper"},bc=We(()=>I("span",null," Containers ",-1)),yc={class:"input-wrapper"},Lc=We(()=>I("span",null," Creatures ",-1)),Cc={class:"input-wrapper"},kc=We(()=>I("span",null," Special ",-1)),wc={class:"input-container"},Mc={class:"input-wrapper"},$c=We(()=>I("span",null," Save ",-1)),Sc={class:"input-wrapper"},xc=We(()=>I("span",null," Reset ",-1));function Pc(i,h,b,C,x,t){const a=ge("font-awesome-icon"),s=Ve("tooltip");return Y(),ee(Ae,null,[dc,I("div",null,[I("div",vc,[I("div",gc,[mc,fe(I("input",{type:"color",id:"colorSelector1",onInput:h[0]||(h[0]=(...o)=>i.setColor&&i.setColor(...o)),label:"Select marker outline colour","onUpdate:modelValue":h[1]||(h[1]=o=>i.color.itemColor=o)},null,544),[[ut,i.color.itemColor],[s,{content:"Click to set marker outline colour",html:!0}]])]),I("div",_c,[bc,fe(I("input",{type:"color",id:"colorSelector2",onInput:h[2]||(h[2]=(...o)=>i.setColor&&i.setColor(...o)),label:"Select marker outline colour","onUpdate:modelValue":h[3]||(h[3]=o=>i.color.containerColor=o)},null,544),[[ut,i.color.containerColor],[s,{content:"Click to set marker outline colour",html:!0}]])]),I("div",yc,[Lc,fe(I("input",{type:"color",id:"colorSelector3",onInput:h[4]||(h[4]=(...o)=>i.setColor&&i.setColor(...o)),label:"Select marker outline colour","onUpdate:modelValue":h[5]||(h[5]=o=>i.color.creatureColor=o)},null,544),[[ut,i.color.creatureColor],[s,{content:"Click to set marker outline colour",html:!0}]])]),I("div",Cc,[kc,fe(I("input",{type:"color",id:"colorSelector4",onInput:h[6]||(h[6]=(...o)=>i.setColor&&i.setColor(...o)),label:"Select marker outline colour","onUpdate:modelValue":h[7]||(h[7]=o=>i.color.specialColor=o)},null,544),[[ut,i.color.specialColor],[s,{content:"Click to set marker outline colour",html:!0}]])])]),I("div",wc,[I("div",Mc,[$c,fe((Y(),ee("button",{type:"button",onClick:h[8]||(h[8]=(...o)=>i.saveColor&&i.saveColor(...o)),class:"save btn"},[ie(a,{icon:"fas fa-save"})])),[[s,{content:"Save current colour for future use",html:!0}]])]),I("div",Sc,[xc,fe((Y(),ee("button",{type:"button",onClick:h[9]||(h[9]=(...o)=>i.resetColor&&i.resetColor(...o)),class:"reset btn"},[ie(a,{icon:"fas fa-redo"})])),[[s,{content:"Reset to default",html:!0}]])])])])],64)}const Ic=xe(pc,[["render",Pc],["__scopeId","data-v-ca3536d4"]]),Tc=Se({data(){return{clusterEnabled:At}}});function Oc(i,h,b,C,x,t){const a=ge("font-awesome-icon"),s=Ve("tooltip");return fe((Y(),ee("button",{class:"btn",onClick:h[0]||(h[0]=o=>i.clusterEnabled.toggle())},[ie(a,{icon:"fa-solid fa-circle-nodes"})])),[[s,{content:"Toggles clustering item markers. <br> <warning> WARNING </warning>: Turning clustering off will have <br> significant performance impact",html:!0}]])}const Nc=xe(Tc,[["render",Oc],["__scopeId","data-v-74302c28"]]);function Ec(){let i=document.createElement("script");i.setAttribute("src","https://unpkg.com/leaflet-responsive-popup@1.0.0/leaflet.responsive.popup.js"),document.head.appendChild(i)}function Dc(){let i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href","https://unpkg.com/leaflet-responsive-popup@1.0.0/leaflet.responsive.popup.css"),document.head.appendChild(i)}function Gc(){let i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href","https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"),document.head.appendChild(i)}function N(i,h,b,C=!1){let x='<span class="map-label-text">'+i+"</span>";const t=le.divIcon({className:"fa fa-circle"});let a=le.marker([h,b],{icon:t,opacity:0}),s="map-label";return C&&(s="map-label-story"),a.bindTooltip(x,{direction:"center",permanent:!0,className:s,offset:[0,12]})}const Dt=[N("Science Campus",-191.954,193.22),N("Waterfall Labs",-52.919,188.22),N("Dig Site",-55.92,120.699),N("Crashed Ship",-70.924,67.685),N("Jungle Camp",-67.611,36.248),N("Water Facility",-202.128,125.383),N("Swamp Camp",-194.245,69.62),N("East Collection Point",-114.877,180.761),N("Comms Tower",-119.742,58.63),N("North Uplink",-105.874,135.795),N("South East Uplink",-166.37,167.254),N("Vaccine Labs",-135.499,200.786),N("Lagoon",-172.631,228.517),N("Woodcutter Camp",-76.998,202.766),N("Lake",-75.624,173.637),N("Power Plant",-145.88,82),N("Rock Pools",-164.256,49.121),N("Jungle",-52.474,63.5022),N("Abandoned Mine",-29.3623,160.883),N("Parking Lot",-58.376,146.751),N("Crashed Drill Site",-110.001,167.27),N("South West Collection Point",-166.878,96.001),N("Swamp",-196.499,49.247),N("Waterfalls",-35.62,199.141),N("East Caverns",-101.869,206.141),N("Base Camp",-135.812,125.115),N("SOS Sign",-232.382,116.588,!0),N("Fossil Area East Caverns",-94.18,213.437,!0),N("Old Drill Head",-114.426,166.876,!0),N("House on Stilts",-108.902,146.387,!0),N("Horse Cave",-29.701,206.393,!0)],Gt=[N("Lost Scientist",-223.981,80.705,!0),N("Favela",-222.298,80.122),N("Lagoon",-214.944,121.488),N("Fallen Tree",-131.973,42.121),N("Greens Prospect",-126.973,127.495),N("Hay Fields",-74.947,33.493),N("Nutrion Farms Processing",-184.697,71.74),N("Jungle Thermal Ponds",-102.973,78.121),N("Nutrion Farms Warehouse",-37.534,69.624),N("Geothermal Plant",-192.61,140.56),N("Root Rock Tunnel",-165.944,197.986),N("Lakeside Building",-144.948,165.99),N("Skeleton",-124.972,205.867),N("Skeleton Observation Site",-115.598,226.368),N("Oasis",-72.598,202.243),N("Pinnacle Labs",-33.202,206.09),N("Osiris Wildlife Preserve",-107.487,160.935),N("Starport Admin",-89.972,146.745),N("Pumpkin Fields",-42.84,110.996),N("Starport Landing Pad",-68.598,126.747),N("Starport Warehouse",-74.598,164.994),N("Lagoon Thermal Ponds",-175.945,118.74),N("Extinct Creatures Lab",-93.655,193.152,!0),N("Frozen Engineer",-38.985,203.868,!0),N("Abandoned Oil Field",-43.791,188.151,!0),N("Missing Engineer Body",-98.94,162.291,!0),N("Forest Crystal Seal",-183.647,39.538,!0),N("Crystal Cave",-188.17,12.786,!0)],Ft=[N("Storm Pillar",-113.623258,143.004195),N("Korolev Quarry",-143.569834,135.575359),N("Korolev Island HQ",-163.803499,153.178869),N("Korolev Docks",-153.042406,87.545987),N("Cave of Stars",-124.806981,106.61464),N("Sparkling Waters",-110.573926,177.166503),N("Osiris Research Center",-92.14412,113.964648),N("Osiris Offices",-114.435211,95.729036),N("Osiris Labs",-97.91466,159.685399)];let lt,Te,mr;const Fc=Se({components:{MapSelector:lu,LocationSelector:wu,ItemSearch:ec,TierToggler:nc,ClearSearch:oc,ShareLink:hc,ColorSelector:Ic,ClusterButton:Nc,PercentButton:fa},data(){return{selectedMap:re,selectedLocations:se,selectedItems:Ce,selectedTier:Be,selectedCreatures:be,clusterEnabled:At,minimumPercent:wt,savedLocationMarkers:[],savedItemMarkers:[],savedCreatureMarkers:[],mapData:null,tierData:null,isModalVisible:!1,isExpanded:!0}},async mounted(){Gc(),Ec(),Dc(),this.mapData=await Ne(),this.tierData=await uu(),await xu(),lt=Su(),await yt(),Te=_t(),await Iu(),mr=Pu(),sc();let i=le.map("map",{crs:le.CRS.Simple,zoom:1,minZoom:1,maxZoom:7,maxBounds:[[1024,-1024],[-1024,1024]],zoomSnap:.05,wheelPxPerZoomLevel:60,attributionControl:!1}).setView([-128,128],1);i.zoomControl.setPosition("topright"),i.fitBounds(Vl),h(re.get()).addTo(i),setTimeout(()=>{b()},5),this.$watch("selectedMap",async()=>{ne(),Be.get()&&ye(),x(),await yt(),Te=_t(),d(),o(),f(),h(re.get()).addTo(i),b()},{deep:!0}),this.$watch("selectedLocations",()=>{a(),o()},{deep:!0}),this.$watch("selectedItems",async()=>{t(),await yt(),Te=_t(),d()},{deep:!0}),this.$watch("selectedCreatures",()=>{s(),f()},{deep:!0}),this.$watch("selectedTier",()=>{Be.get()?ye():ne()},{deep:!0}),this.$watch("clusterEnabled",async()=>{t(),await yt(),Te=_t(),d()},{deep:!0}),this.$watch("minimumPercent",async()=>{t(),await yt(),Te=_t(),d()},{deep:!0});function h(B){return B==1?(i.hasLayer(gt)&&i.removeLayer(gt),i.hasLayer(mt)&&i.removeLayer(mt),st):B==2?(i.hasLayer(st)&&i.removeLayer(st),i.hasLayer(mt)&&i.removeLayer(mt),gt):B==3?(i.hasLayer(st)&&i.removeLayer(st),i.hasLayer(gt)&&i.removeLayer(gt),mt):st}function b(){Xe(),Re(),Ye()}let C=this;function x(){for(let B in lt)for(let ue in lt[B]){let me=lt[B][ue];me&&me.removeFrom(i)}t()}function t(){for(let B in Te)for(let ue in Te[B]){let me=Te[B][ue];me&&me.removeFrom(i)}}function a(){for(let B in C.savedLocationMarkers){if(se.get().includes(C.savedLocationMarkers[B]))continue;let ue=lt[C.selectedMap.get()][C.savedLocationMarkers[B]];ue&&ue.removeFrom(i),delete C.savedLocationMarkers[B]}}function s(){for(let B in C.savedCreatureMarkers){if(be.get().includes(C.savedCreatureMarkers[B]))continue;let ue=mr[C.selectedMap.get()][C.savedCreatureMarkers[B]];ue&&ue.removeFrom(i),delete C.savedCreatureMarkers[B]}}function o(){let B=[];for(let ue in se.get()){let me=lt[C.selectedMap.get()][se.get()[ue]];me&&me.addTo(i),B.push(se.get()[ue])}C.savedLocationMarkers=B}function f(){let B=[];for(let ue in be.get()){let me=mr[C.selectedMap.get()][be.get()[ue]];me&&me.addTo(i),B.push(be.get()[ue])}C.savedCreatureMarkers=B}function d(){let B=[];for(let ue in Ce.get()){let me=Te[C.selectedMap.get()][Ce.get()[ue]];me&&me.addTo(i),B.push(Ce.get()[ue])}C.savedItemMarkers=B}const m={color:"#dfe3e8",weight:0,fillOpacity:.2},w={color:"#4cb31b",weight:0,fillOpacity:.3},y={color:"#1da7ec",weight:0,fillOpacity:.3},P={color:"#4f0e8b",weight:0,fillOpacity:.3},_={color:"#ee3355",weight:0,fillOpacity:.3},O=le.polygon(this.tierData[1][1],m),G=le.polygon(this.tierData[1][2],w),j=le.polygon(this.tierData[1][3],y),oe=le.polygon(this.tierData[1][4],P),W=le.polygon(this.tierData[2][3],y),X=le.polygon(this.tierData[2][4],P),A=le.polygon(this.tierData[2][5],_);function ye(){Be.get()&&(re.get()==1&&(i.addLayer(O),i.addLayer(G),i.addLayer(j),i.addLayer(oe)),re.get()==2&&(i.addLayer(W),i.addLayer(X),i.addLayer(A)),re.get()==3)}function ne(){i.removeLayer(O),i.removeLayer(G),i.removeLayer(j),i.removeLayer(oe),i.removeLayer(W),i.removeLayer(X),i.removeLayer(A)}function Xe(){if(re.get()==1)for(let B in Dt)Dt[B].addTo(i);else for(let B in Dt)Dt[B].removeFrom(i)}function Re(){if(re.get()==2)for(let B in Gt)Gt[B].addTo(i);else for(let B in Gt)Gt[B].removeFrom(i)}function Ye(){if(re.get()==3)for(let B in Ft)Ft[B].addTo(i);else for(let B in Ft)Ft[B].removeFrom(i)}o(),d(),f(),ye(),Bl()},methods:{showModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},toggleSidebar(){let i=document.querySelector("#page-content");i?.classList.toggle("collapsed"),i?.classList.toggle("add-keyframe"),this.isExpanded=!this.isExpanded}}});const ha=i=>(ct("data-v-f4558182"),i=i(),ft(),i),Ac={class:"page-content",id:"page-content"},Bc={class:"left",id:"left"},Uc={id:"left-content"},Rc=ha(()=>I("header",null,[I("h2",null,"Options")],-1)),zc={class:"setting-container"},Zc={class:"container"},Hc={class:"right",id:"right"},jc=ha(()=>I("div",{id:"map"},null,-1));function qc(i,h,b,C,x,t){const a=ge("ItemSearch"),s=ge("LocationSelector"),o=ge("ClusterButton"),f=ge("TierToggler"),d=ge("ClearSearch"),m=ge("ShareLink"),w=ge("ColorSelector"),y=ge("font-awesome-icon"),P=ge("MapSelector"),_=Ve("tooltip");return Y(),ee("div",Ac,[I("div",Bc,[I("div",Uc,[ie(a),ie(s),I("section",null,[Rc,I("div",zc,[ie(o),ie(f),ie(d),ie(m)])]),I("section",Zc,[ie(w)])])]),I("div",Hc,[fe((Y(),ee("button",{id:"sidebar-toggler",onClick:h[0]||(h[0]=(...O)=>i.toggleSidebar&&i.toggleSidebar(...O))},[i.isExpanded?(Y(),Qn(y,{key:0,icon:"fa-solid fa-caret-left"})):(Y(),Qn(y,{key:1,icon:"fa-solid fa-caret-right"}))])),[[_,{content:"Collapse/expand menu",html:!0}]]),ie(P),jc])])}const Vc=xe(Fc,[["render",qc],["__scopeId","data-v-f4558182"]]),Wc=Ul(Vc).component("font-awesome-icon",Rl.FontAwesome).use(zl).use(Zl);Wc.mount("main");
